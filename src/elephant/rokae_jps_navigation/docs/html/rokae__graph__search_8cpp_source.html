<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JPS Planner: src/JPS_Planner/rokae_graph_search.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">JPS Planner<span id="projectnumber">&#160;v8.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('rokae__graph__search_8cpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle"><div class="title">rokae_graph_search.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="rokae__graph__search_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="preprocessor">#include &quot;<a class="code" href="rokae__graph__basis_8hpp.html">JPS_Planner/rokae_graph_basis.hpp</a>&quot;</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span> </div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespaceJPS.html">JPS</a>;</div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span> </div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno"><a class="line" href="classJPS_1_1GraphSearch.html#ab24f846361d1a7f33482fe11a0730bbd">    5</a></span>GraphSearch::GraphSearch(<span class="keywordtype">int</span> xDim, <span class="keywordtype">int</span> yDim, <span class="keywordtype">int</span> zDim, <span class="keywordtype">double</span> planning_tree_resolution, octomap::point3d startCoord, octomap::point3d goalCoord, <span class="keywordtype">double</span> timeout_threshold, <span class="keywordtype">double</span> eps = 1, <span class="keywordtype">bool</span> verbose = <span class="keyword">false</span>)</div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span>{</div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span>  this-&gt;<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a0be9323bb98003826f4ee3b31d9811a6">xDim_</a>                     = xDim;</div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span>  this-&gt;<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a33d592fc21f0872546364703dcac1bef">yDim_</a>                     = yDim;</div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span>  this-&gt;<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ac1dd9827e96e3f46d3eb2b616ac20000">zDim_</a>                     = zDim;</div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span>  this-&gt;<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a87e9a702af8778200d4db9b114c9bb5d">planning_tree_resolution_</a> = planning_tree_resolution;</div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span>  this-&gt;<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad1c0eb86312d957a64b5a04913639a7d">startCoord_</a>               = startCoord;</div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span>  this-&gt;<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a9c38b415d34a53a5d2fd4bca36f59a78">goalCoord_</a>                = goalCoord;</div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span>  this-&gt;<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20b80e57fc31e272e73d3f1b9c1aac8">jn3d_</a>                     = std::make_shared&lt;JPS3DNeib&gt;();</div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span>  this-&gt;<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a58182b87cf68eba55de25fc80c1f538a">eps_</a>                      = eps;</div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span>  this-&gt;<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a4134f8e4f56ea3df18ad2a756c54431b">verbose_</a>                  = verbose;</div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span>  this-&gt;<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a54e5a28ef38f5830976df639cef5427f">timeout_threshold_</a>        = timeout_threshold;</div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span>}</div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span> </div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span> </div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno"><a class="line" href="classJPS_1_1GraphSearch.html#af8ab5828e76294f3b4483b64acb8d33d">   20</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classJPS_1_1GraphSearch.html#af8ab5828e76294f3b4483b64acb8d33d">GraphSearch::plan</a>(octomap::OcTree &amp;tree, <span class="keywordtype">int</span> maxExpand = -1)</div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span>{   </div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span>  <span class="comment">// the clock with the shortest tick period available</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span>  <span class="keyword">auto</span> time_start = std::chrono::high_resolution_clock::now(); </div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span>  </div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span>  <span class="comment">// clear previous value</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span>  <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ae420d96e4875e1d0149a2f85845bd9d0">open</a>.clear();</div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span>  <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20737c7c971f1864c1d37b82cbe91ba">closed</a>.clear();</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span>  <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a5df0b62a153c80282391a10cf0564272">parent_map</a>.clear();</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span>  std::priority_queue&lt;Node, std::vector&lt;Node&gt;, <a class="code hl_struct" href="structJPS_1_1CostComparator.html">CostComparator</a>&gt; null_heap;</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span>  swap(<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#af6b4b1a8315450032a052a572b9ec717">open_heap</a>, null_heap);</div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span>  <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#aec40c819291bbe3cdb6e2bcc27b6de0c">path_Keys_</a>.clear();</div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span> </div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span>  <span class="comment">//octreeKey of start_coord and goal_coord</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>  octomap::OcTreeKey startKey = tree.coordToKey(<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad1c0eb86312d957a64b5a04913639a7d">startCoord_</a>);</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span>  octomap::OcTreeKey goalKey  = tree.coordToKey(<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a9c38b415d34a53a5d2fd4bca36f59a78">goalCoord_</a>);</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span> </div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span>  <a class="code hl_struct" href="structJPS_1_1Node.html">Node</a> StartNode(startKey, 0, 0, 0);</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>  StartNode.<a class="code hl_variable" href="structJPS_1_1Node.html#acd103d6fc47532632b3478847395077c">g</a> = 0;</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>  StartNode.<a class="code hl_variable" href="structJPS_1_1Node.html#abbd7a819f60d402cdbddc49e15aaba24">h</a> = <a class="code hl_function" href="classJPS_1_1GraphSearch.html#ab58fd8a007c25ac623da4de979e178f3">getHeu</a>(startKey, goalKey, tree);</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>  StartNode.<a class="code hl_variable" href="structJPS_1_1Node.html#ad33d7e01762b28a6119dd29549eefef7">f</a> = StartNode.<a class="code hl_variable" href="structJPS_1_1Node.html#acd103d6fc47532632b3478847395077c">g</a> + StartNode.<a class="code hl_variable" href="structJPS_1_1Node.html#abbd7a819f60d402cdbddc49e15aaba24">h</a>;</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span> </div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>  <span class="comment">// Insert start node</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>  <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#af6b4b1a8315450032a052a572b9ec717">open_heap</a>.push(StartNode);</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>  <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ae420d96e4875e1d0149a2f85845bd9d0">open</a>.insert(StartNode);</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span> </div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>  <span class="keywordtype">int</span> expand_iteration = 0;</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>  <a class="code hl_struct" href="structJPS_1_1Node.html">Node</a> currNode;</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>  <span class="comment">// this is the main loop</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>  <span class="keywordflow">while</span> (!<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ae420d96e4875e1d0149a2f85845bd9d0">open</a>.empty() &amp;&amp; ros::ok()) </div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>  {</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>    expand_iteration++;</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>    <span class="comment">// get element with smallest cost (we initially built a minimum heap)</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>    currNode = <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#af6b4b1a8315450032a052a572b9ec717">open_heap</a>.top();      <span class="comment">// find the node with the least &#39;f&#39; on the open list, call it &#39;q&#39;</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>    <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#af6b4b1a8315450032a052a572b9ec717">open_heap</a>.pop();             <span class="comment">// pop &#39;q&#39; off the &#39;minimum heap&#39;</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>    <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ae420d96e4875e1d0149a2f85845bd9d0">open</a>.erase(currNode);            <span class="comment">// erase &#39;q&#39; from the open list</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>    <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20737c7c971f1864c1d37b82cbe91ba">closed</a>.insert(currNode);         <span class="comment">// add &#39;q&#39; to closed list</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span> </div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>    <span class="keyword">auto</span> time_now = std::chrono::high_resolution_clock::now();</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span> </div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>    <span class="keywordflow">if</span> (std::chrono::duration&lt;double&gt;(time_now - time_start).count() &gt; <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a54e5a28ef38f5830976df639cef5427f">timeout_threshold_</a>) </div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>    {</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>      printf(<span class="stringliteral">&quot;[JPS]: Planning timeout! Using current best node as goal.\n&quot;</span>);</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>      <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a932fb8321d5abbab78d420d84b906ee8">planning_status_</a> = <a class="code hl_enumvalue" href="classJPS_1_1GraphSearch.html#a1854bbd5830db76fb29d84f2b55ab881acde2aa99946eb1498c5cfc1d86735927">PlanningState::PATH_INCOMPLETE</a>;</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span> </div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>    }</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span> </div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>    octomap::point3d currCoord = <a class="code hl_function" href="classJPS_1_1GraphSearch.html#a7d3d17e51c0094f49eb81d1ed5bf14aa">keyToCoord_modified</a>(currNode.<a class="code hl_variable" href="structJPS_1_1Node.html#adabc4bd081e00c8b180800c1890b8580">key</a>, tree);</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>    <span class="comment">// if the current node is the goal </span></div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classJPS_1_1GraphSearch.html#a3e0937fe5e617c23eb5de575fc3b8537">distEuclidean</a>(currCoord, <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a9c38b415d34a53a5d2fd4bca36f59a78">goalCoord_</a>) &lt;= 1.1 * <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a87e9a702af8778200d4db9b114c9bb5d">planning_tree_resolution_</a>) </div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>    {</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a4134f8e4f56ea3df18ad2a756c54431b">verbose_</a>)</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>      {</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>        <span class="keyword">auto</span> time_end = std::chrono::high_resolution_clock::now();</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>        printf(<span class="stringliteral">&quot;[JPS]: Goal Reached!\n&quot;</span>);</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>        printf(<a class="code hl_define" href="rokae__jps__basis_8hpp.html#a966c72d8d733c7734c6c784753d894c7">ANSI_COLOR_GREEN</a> <span class="stringliteral">&quot;--&gt; Time in JPS is %f ms&quot;</span> <a class="code hl_define" href="rokae__jps__basis_8hpp.html#a92a364c2b863dde1a024a77eac2a5b3b">ANSI_COLOR_RESET</a> , (<span class="keywordtype">float</span>)std::chrono::duration_cast&lt;std::chrono::microseconds&gt;(time_end - time_start).count() / 1000);</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>        printf(<a class="code hl_define" href="rokae__jps__basis_8hpp.html#a966c72d8d733c7734c6c784753d894c7">ANSI_COLOR_GREEN</a> <span class="stringliteral">&quot;--&gt; heuristic type: %d (Manhattan = 0, Euclidean=1, Diagonal=2)&quot;</span> <a class="code hl_define" href="rokae__jps__basis_8hpp.html#a92a364c2b863dde1a024a77eac2a5b3b">ANSI_COLOR_RESET</a>, (<span class="keywordtype">int</span>) <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#af27db35a820ad86a6438ed49eccf553e">heuristic_function_type</a>);</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>      }</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>      <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a932fb8321d5abbab78d420d84b906ee8">planning_status_</a> = <a class="code hl_enumvalue" href="classJPS_1_1GraphSearch.html#a1854bbd5830db76fb29d84f2b55ab881ab86957a2a5c3219ee1c3c1973d47d2e2">PlanningState::PATH_COMPLETE</a>;</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span> </div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>    }</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>    </div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>    std::vector&lt;Node&gt; Succ_nodeSet;</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>    std::vector&lt;double&gt; Succ_costSet;</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span> </div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>    <span class="comment">//get the succession</span></div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>    <a class="code hl_function" href="classJPS_1_1GraphSearch.html#adcd833accf5030c48d6812df72b1cfc2">getJpsSucc</a>(currNode, Succ_nodeSet, Succ_costSet, tree);</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>    <span class="comment">// Process successors</span></div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; (int) Succ_nodeSet.size(); ++i)</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>    {</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>      <span class="comment">//see if we can improve the value of succstate</span></div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>      <a class="code hl_struct" href="structJPS_1_1Node.html">Node</a> childNode        = Succ_nodeSet.at(i);</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>      <span class="keywordtype">double</span> tentative_gval = currNode.<a class="code hl_variable" href="structJPS_1_1Node.html#acd103d6fc47532632b3478847395077c">g</a> + Succ_costSet.at(i); <span class="comment">// update g(n) for new child node</span></div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>      <span class="comment">// If the cumulative cost of the child node is less than the previous value in the child node, we need to update the child node g(n) value and change the child node parent. In this version, we create a parent map to save the success infomation</span></div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>      <span class="keywordflow">if</span> (tentative_gval &lt; childNode.<a class="code hl_variable" href="structJPS_1_1Node.html#acd103d6fc47532632b3478847395077c">g</a>)</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>      {</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>        childNode.<a class="code hl_variable" href="structJPS_1_1Node.html#acd103d6fc47532632b3478847395077c">g</a> = tentative_gval;</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>        childNode.<a class="code hl_variable" href="structJPS_1_1Node.html#ad33d7e01762b28a6119dd29549eefef7">f</a> = childNode.<a class="code hl_variable" href="structJPS_1_1Node.html#acd103d6fc47532632b3478847395077c">g</a> + childNode.<a class="code hl_variable" href="structJPS_1_1Node.html#abbd7a819f60d402cdbddc49e15aaba24">h</a>;</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>        <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a5df0b62a153c80282391a10cf0564272">parent_map</a>[childNode] = currNode;</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>        <span class="comment">// fval = childNode.g + childNode.h</span></div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span> </div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>        <span class="comment">// if child node in the openSet, we need to update</span></div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>        <span class="keyword">auto</span> open_query   = <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ae420d96e4875e1d0149a2f85845bd9d0">open</a>.find(childNode);</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>        <span class="keyword">auto</span> closed_query = <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20737c7c971f1864c1d37b82cbe91ba">closed</a>.find(childNode);</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>        <span class="keywordflow">if</span> (open_query != <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ae420d96e4875e1d0149a2f85845bd9d0">open</a>.end() &amp;&amp; closed_query == <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20737c7c971f1864c1d37b82cbe91ba">closed</a>.end())</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>        {</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>          childNode.<a class="code hl_variable" href="structJPS_1_1Node.html#aea666661a089d39c4d26308937f83223">dx</a> = childNode.<a class="code hl_variable" href="structJPS_1_1Node.html#adabc4bd081e00c8b180800c1890b8580">key</a>.k[0] - currNode.<a class="code hl_variable" href="structJPS_1_1Node.html#adabc4bd081e00c8b180800c1890b8580">key</a>.k[0];</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>          childNode.<a class="code hl_variable" href="structJPS_1_1Node.html#ace2c64cb2b93f6a3fda173cecf59fec3">dy</a> = childNode.<a class="code hl_variable" href="structJPS_1_1Node.html#adabc4bd081e00c8b180800c1890b8580">key</a>.k[1] - currNode.<a class="code hl_variable" href="structJPS_1_1Node.html#adabc4bd081e00c8b180800c1890b8580">key</a>.k[1];</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>          childNode.<a class="code hl_variable" href="structJPS_1_1Node.html#ac744fc325ae809f080375c4b9262edd0">dz</a> = childNode.<a class="code hl_variable" href="structJPS_1_1Node.html#adabc4bd081e00c8b180800c1890b8580">key</a>.k[2] - currNode.<a class="code hl_variable" href="structJPS_1_1Node.html#adabc4bd081e00c8b180800c1890b8580">key</a>.k[2];</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>          <span class="keywordflow">if</span>(childNode.<a class="code hl_variable" href="structJPS_1_1Node.html#aea666661a089d39c4d26308937f83223">dx</a> != 0) {</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>            childNode.<a class="code hl_variable" href="structJPS_1_1Node.html#aea666661a089d39c4d26308937f83223">dx</a> /= std::abs(childNode.<a class="code hl_variable" href="structJPS_1_1Node.html#aea666661a089d39c4d26308937f83223">dx</a>);</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>          }</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>          <span class="keywordflow">if</span>(childNode.<a class="code hl_variable" href="structJPS_1_1Node.html#ace2c64cb2b93f6a3fda173cecf59fec3">dy</a> != 0) {</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>            childNode.<a class="code hl_variable" href="structJPS_1_1Node.html#ace2c64cb2b93f6a3fda173cecf59fec3">dy</a> /= std::abs(childNode.<a class="code hl_variable" href="structJPS_1_1Node.html#ace2c64cb2b93f6a3fda173cecf59fec3">dy</a>);</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>          }</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>          <span class="keywordflow">if</span>(childNode.<a class="code hl_variable" href="structJPS_1_1Node.html#ace2c64cb2b93f6a3fda173cecf59fec3">dy</a> != 0) {</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>           childNode.<a class="code hl_variable" href="structJPS_1_1Node.html#ac744fc325ae809f080375c4b9262edd0">dz</a> /= std::abs(childNode.<a class="code hl_variable" href="structJPS_1_1Node.html#ac744fc325ae809f080375c4b9262edd0">dz</a>);</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>          }</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (open_query != <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ae420d96e4875e1d0149a2f85845bd9d0">open</a>.end() &amp;&amp; closed_query != <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20737c7c971f1864c1d37b82cbe91ba">closed</a>.end())</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>        {</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>          printf(<span class="stringliteral">&quot;[JPS]: Query Error\n&quot;</span>);</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>        } <span class="keywordflow">else</span> <span class="comment">// new node, add to heap</span></div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>        {</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>          <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#af6b4b1a8315450032a052a572b9ec717">open_heap</a>.push(childNode);</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>          <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ae420d96e4875e1d0149a2f85845bd9d0">open</a>.insert(childNode);</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>        }</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>      }</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>    }</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span> </div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>    <span class="keywordflow">if</span>(maxExpand &gt; 0 &amp;&amp; expand_iteration &gt;= maxExpand) </div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>    {</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a4134f8e4f56ea3df18ad2a756c54431b">verbose_</a>) {</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>        printf(<span class="stringliteral">&quot;[JPS]: MaxExpandStep [%d] Reached!\n\n&quot;</span>, maxExpand);</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>      }</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>      <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a932fb8321d5abbab78d420d84b906ee8">planning_status_</a> = <a class="code hl_enumvalue" href="classJPS_1_1GraphSearch.html#a1854bbd5830db76fb29d84f2b55ab881acde2aa99946eb1498c5cfc1d86735927">PlanningState::PATH_INCOMPLETE</a>;</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span> </div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>    }</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span> </div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#af6b4b1a8315450032a052a572b9ec717">open_heap</a>.empty()) </div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>    {</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a4134f8e4f56ea3df18ad2a756c54431b">verbose_</a>) {</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>        printf(<span class="stringliteral">&quot;[JPS]: Minimum heap is empty!\n\n&quot;</span>);</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>      }</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>      <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a932fb8321d5abbab78d420d84b906ee8">planning_status_</a> = <a class="code hl_enumvalue" href="classJPS_1_1GraphSearch.html#a1854bbd5830db76fb29d84f2b55ab881abb1ca97ec761fc37101737ba0aa2e7c5">PlanningState::ERROR</a>;</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span> </div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>    }</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>  }</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span> </div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a4134f8e4f56ea3df18ad2a756c54431b">verbose_</a>) {</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>    printf(<span class="stringliteral">&quot;[JPS]: goal g: %f, h: %f!\n&quot;</span>, currNode.<a class="code hl_variable" href="structJPS_1_1Node.html#acd103d6fc47532632b3478847395077c">g</a>, currNode.<a class="code hl_variable" href="structJPS_1_1Node.html#abbd7a819f60d402cdbddc49e15aaba24">h</a>);</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>    printf(<span class="stringliteral">&quot;[JPS]: Expand [%d] nodes!\n&quot;</span>, expand_iteration);</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>  }</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>  <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#aec40c819291bbe3cdb6e2bcc27b6de0c">path_Keys_</a> = <a class="code hl_function" href="classJPS_1_1GraphSearch.html#a558de178785d62e710bcf9104c22a7f1">backtrackPathKeys</a>(StartNode, currNode);</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>  </div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>}</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span> </div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno"><a class="line" href="classJPS_1_1GraphSearch.html#a2a5b5cb539d1578bdf72d7c642dcb280">  161</a></span><span class="keywordtype">double</span> <a class="code hl_function" href="classJPS_1_1GraphSearch.html#a2a5b5cb539d1578bdf72d7c642dcb280">GraphSearch::DPF_Plan</a>(octomap::OcTree &amp;tree, std::unordered_set&lt;octomap::OcTreeKey, DPF_HashFunction&gt; &amp;region_set, std::unordered_map&lt;octomap::OcTreeKey, double, DPF_HashFunction&gt; &amp;dist_map, <span class="keyword">const</span> <span class="keywordtype">double</span> potential_weight)</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>{</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>  <span class="comment">// clear previous value</span></div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>  <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ae420d96e4875e1d0149a2f85845bd9d0">open</a>.clear();</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>  <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20737c7c971f1864c1d37b82cbe91ba">closed</a>.clear();</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>  <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a5df0b62a153c80282391a10cf0564272">parent_map</a>.clear();</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>  std::priority_queue&lt;Node, std::vector&lt;Node&gt;, <a class="code hl_struct" href="structJPS_1_1CostComparator.html">CostComparator</a>&gt; null_heap;</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>  swap(<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#af6b4b1a8315450032a052a572b9ec717">open_heap</a>, null_heap);</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>  <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#aec40c819291bbe3cdb6e2bcc27b6de0c">path_Keys_</a>.clear();</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span> </div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>  <span class="comment">//octreeKey of start_coord and goal_coord</span></div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>  octomap::OcTreeKey startKey = tree.coordToKey(<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad1c0eb86312d957a64b5a04913639a7d">startCoord_</a>);</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>  octomap::OcTreeKey goalKey  = tree.coordToKey(<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a9c38b415d34a53a5d2fd4bca36f59a78">goalCoord_</a>);</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span> </div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>  <a class="code hl_struct" href="structJPS_1_1Node.html">Node</a> StartNode(startKey, 0, 0, 0);</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>  StartNode.<a class="code hl_variable" href="structJPS_1_1Node.html#acd103d6fc47532632b3478847395077c">g</a> = dist_map[startKey];</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>  StartNode.<a class="code hl_variable" href="structJPS_1_1Node.html#abbd7a819f60d402cdbddc49e15aaba24">h</a> = <a class="code hl_function" href="classJPS_1_1GraphSearch.html#ab58fd8a007c25ac623da4de979e178f3">getHeu</a>(startKey, goalKey, tree);</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>  StartNode.<a class="code hl_variable" href="structJPS_1_1Node.html#ad33d7e01762b28a6119dd29549eefef7">f</a> = StartNode.<a class="code hl_variable" href="structJPS_1_1Node.html#acd103d6fc47532632b3478847395077c">g</a> + StartNode.<a class="code hl_variable" href="structJPS_1_1Node.html#abbd7a819f60d402cdbddc49e15aaba24">h</a>;</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span> </div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>  <span class="comment">// Insert start node</span></div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>  <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#af6b4b1a8315450032a052a572b9ec717">open_heap</a>.push(StartNode);</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>  <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ae420d96e4875e1d0149a2f85845bd9d0">open</a>.insert(StartNode);</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span> </div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>  <span class="keywordtype">int</span> expand_iteration = 0;</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>  <a class="code hl_struct" href="structJPS_1_1Node.html">Node</a> currNode;</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>  <span class="comment">// this is the main loop</span></div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>  <span class="keywordflow">while</span> (!<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ae420d96e4875e1d0149a2f85845bd9d0">open</a>.empty() &amp;&amp; ros::ok()) </div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>  {</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>    expand_iteration++;</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>    <span class="comment">// get element with smallest cost (we initially built a minimum heap)</span></div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>    currNode = <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#af6b4b1a8315450032a052a572b9ec717">open_heap</a>.top();      <span class="comment">// find the node with the least &#39;f&#39; on the open list, call it &#39;q&#39;</span></div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>    <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#af6b4b1a8315450032a052a572b9ec717">open_heap</a>.pop();             <span class="comment">// pop &#39;q&#39; off the &#39;minimum heap&#39;</span></div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>    <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ae420d96e4875e1d0149a2f85845bd9d0">open</a>.erase(currNode);            <span class="comment">// erase &#39;q&#39; from the open list</span></div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>    <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20737c7c971f1864c1d37b82cbe91ba">closed</a>.insert(currNode);         <span class="comment">// add &#39;q&#39; to closed list</span></div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span> </div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>    octomap::point3d currCoord = <a class="code hl_function" href="classJPS_1_1GraphSearch.html#a7d3d17e51c0094f49eb81d1ed5bf14aa">keyToCoord_modified</a>(currNode.<a class="code hl_variable" href="structJPS_1_1Node.html#adabc4bd081e00c8b180800c1890b8580">key</a>, tree);</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>    <span class="comment">// if the current node is the goal </span></div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classJPS_1_1GraphSearch.html#a3e0937fe5e617c23eb5de575fc3b8537">distEuclidean</a>(currCoord, <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a9c38b415d34a53a5d2fd4bca36f59a78">goalCoord_</a>) &lt;= 1.1 * <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a87e9a702af8778200d4db9b114c9bb5d">planning_tree_resolution_</a>) </div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>    {</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a4134f8e4f56ea3df18ad2a756c54431b">verbose_</a>)</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>      {</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>        printf(<span class="stringliteral">&quot;[DPF Planner]: Goal Reached!\n&quot;</span>);</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>        printf(<a class="code hl_define" href="rokae__jps__basis_8hpp.html#a966c72d8d733c7734c6c784753d894c7">ANSI_COLOR_GREEN</a> <span class="stringliteral">&quot;--&gt; heuristic type: %d (Manhattan = 0, Euclidean=1, Diagonal=2)&quot;</span> <a class="code hl_define" href="rokae__jps__basis_8hpp.html#a92a364c2b863dde1a024a77eac2a5b3b">ANSI_COLOR_RESET</a>, (<span class="keywordtype">int</span>) <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#af27db35a820ad86a6438ed49eccf553e">heuristic_function_type</a>);</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>      }</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>      <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a932fb8321d5abbab78d420d84b906ee8">planning_status_</a> = <a class="code hl_enumvalue" href="classJPS_1_1GraphSearch.html#a1854bbd5830db76fb29d84f2b55ab881ab86957a2a5c3219ee1c3c1973d47d2e2">PlanningState::PATH_COMPLETE</a>;</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span> </div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>    }</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>    </div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>    std::vector&lt;Node&gt; Succ_nodeSet;</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>    std::vector&lt;double&gt; Succ_costSet;</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span> </div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>    <span class="comment">//get the succession</span></div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>    <a class="code hl_function" href="classJPS_1_1GraphSearch.html#a3a38c99add5d2838afa62c14e1797f70">getSucc</a>(currNode, Succ_nodeSet, Succ_costSet, tree, region_set, dist_map, potential_weight);</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>    <span class="comment">// Process successors</span></div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; (int) Succ_nodeSet.size(); ++i)</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>    {</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>      <span class="comment">//see if we can improve the value of succstate</span></div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>      <a class="code hl_struct" href="structJPS_1_1Node.html">Node</a> childNode        = Succ_nodeSet.at(i);</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>      <span class="keywordtype">double</span> tentative_gval = currNode.<a class="code hl_variable" href="structJPS_1_1Node.html#acd103d6fc47532632b3478847395077c">g</a> + Succ_costSet.at(i); <span class="comment">// update g(n) for new child node</span></div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>      <span class="comment">// If the cumulative cost of the child node is less than the previous value in the child node, we need to update the child node g(n) value and change the child node parent. In this version, we create a parent map to save the success infomation</span></div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>      <span class="keywordflow">if</span> (tentative_gval &lt; childNode.<a class="code hl_variable" href="structJPS_1_1Node.html#acd103d6fc47532632b3478847395077c">g</a>)</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>      {</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>        childNode.<a class="code hl_variable" href="structJPS_1_1Node.html#acd103d6fc47532632b3478847395077c">g</a> = tentative_gval;</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>        childNode.<a class="code hl_variable" href="structJPS_1_1Node.html#ad33d7e01762b28a6119dd29549eefef7">f</a> = childNode.<a class="code hl_variable" href="structJPS_1_1Node.html#acd103d6fc47532632b3478847395077c">g</a> + childNode.<a class="code hl_variable" href="structJPS_1_1Node.html#abbd7a819f60d402cdbddc49e15aaba24">h</a>;</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>        <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a5df0b62a153c80282391a10cf0564272">parent_map</a>[childNode] = currNode;</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>        <span class="comment">// fval = childNode.g + childNode.h</span></div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span> </div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>        <span class="comment">// if child node in the openSet, we need to update</span></div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>        <span class="keyword">auto</span> open_query   = <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ae420d96e4875e1d0149a2f85845bd9d0">open</a>.find(childNode);</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>        <span class="keyword">auto</span> closed_query = <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20737c7c971f1864c1d37b82cbe91ba">closed</a>.find(childNode);</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>        <span class="keywordflow">if</span> (open_query == <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ae420d96e4875e1d0149a2f85845bd9d0">open</a>.end() &amp;&amp; closed_query == <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20737c7c971f1864c1d37b82cbe91ba">closed</a>.end()) {</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>          printf(<span class="stringliteral">&quot;ASTAR ERROR!\n&quot;</span>);</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>        } </div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>        </div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>        <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#af6b4b1a8315450032a052a572b9ec717">open_heap</a>.push(childNode);</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>        <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ae420d96e4875e1d0149a2f85845bd9d0">open</a>.insert(childNode);</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>      }</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>    }</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span> </div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#af6b4b1a8315450032a052a572b9ec717">open_heap</a>.empty()) </div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>    {</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a4134f8e4f56ea3df18ad2a756c54431b">verbose_</a>) {</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>        printf(<span class="stringliteral">&quot;[DPF Planner]: Minimum heap is empty!\n\n&quot;</span>);</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>      }</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>      <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a932fb8321d5abbab78d420d84b906ee8">planning_status_</a> = <a class="code hl_enumvalue" href="classJPS_1_1GraphSearch.html#a1854bbd5830db76fb29d84f2b55ab881acde2aa99946eb1498c5cfc1d86735927">PlanningState::PATH_INCOMPLETE</a>;</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span> </div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>      <span class="keywordflow">return</span> std::numeric_limits&lt;double&gt;::infinity();</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>    }</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span> </div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>  }</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span> </div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a4134f8e4f56ea3df18ad2a756c54431b">verbose_</a>) {</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>    printf(<span class="stringliteral">&quot;[DPF Planner]: goal g: %f, h: %f!\n&quot;</span>, currNode.<a class="code hl_variable" href="structJPS_1_1Node.html#acd103d6fc47532632b3478847395077c">g</a>, currNode.<a class="code hl_variable" href="structJPS_1_1Node.html#abbd7a819f60d402cdbddc49e15aaba24">h</a>);</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>    printf(<span class="stringliteral">&quot;[DPF Planner]: Expand [%d] nodes!\n&quot;</span>, expand_iteration);</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>  }</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span> </div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>  <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#aec40c819291bbe3cdb6e2bcc27b6de0c">path_Keys_</a> = <a class="code hl_function" href="classJPS_1_1GraphSearch.html#a558de178785d62e710bcf9104c22a7f1">backtrackPathKeys</a>(StartNode, currNode);</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>  </div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>  <span class="keywordflow">return</span> currNode.<a class="code hl_variable" href="structJPS_1_1Node.html#acd103d6fc47532632b3478847395077c">g</a>;</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>}</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span> </div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno"><a class="line" href="classJPS_1_1GraphSearch.html#a3a38c99add5d2838afa62c14e1797f70">  263</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classJPS_1_1GraphSearch.html#a3a38c99add5d2838afa62c14e1797f70">GraphSearch::getSucc</a>(<a class="code hl_struct" href="structJPS_1_1Node.html">Node</a>&amp; currSucc, std::vector&lt;Node&gt;&amp; NodeSet, std::vector&lt;double&gt;&amp; Succ_costSet, octomap::OcTree &amp;tree, std::unordered_set&lt;octomap::OcTreeKey, DPF_HashFunction&gt; &amp;region_set, std::unordered_map&lt;octomap::OcTreeKey, double, DPF_HashFunction&gt; &amp;dist_map, <span class="keyword">const</span> <span class="keywordtype">double</span> potential_weight)</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>{</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>  octomap::OcTreeKey goalKey = tree.coordToKey(<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a9c38b415d34a53a5d2fd4bca36f59a78">goalCoord_</a>);</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span> </div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;d : <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a331f8772c3dea38f8121016a638bb606">EXPANSION_DIRECTIONS</a>) </div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>  {</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>    <span class="keyword">auto</span> new_key    = <a class="code hl_function" href="classJPS_1_1GraphSearch.html#a90b7e5d5ca13179f65661312784bd4c8">expand</a>(currSucc.<a class="code hl_variable" href="structJPS_1_1Node.html#adabc4bd081e00c8b180800c1890b8580">key</a>, d[0], d[1], d[2]);</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>    <span class="keyword">auto</span> currPoint  = <a class="code hl_function" href="classJPS_1_1GraphSearch.html#a7d3d17e51c0094f49eb81d1ed5bf14aa">keyToCoord_modified</a>(new_key, tree);</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>    <span class="keyword">auto</span> currNode = tree.search(new_key);</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span> </div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span> </div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>    <span class="keywordflow">if</span> (currNode != NULL) </div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>    {</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>      <span class="comment">// if current neighbor node is occupied, we need to find the next neighbor</span></div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="classJPS_1_1GraphSearch.html#abb557676b06da6ad7fdbbbd83b8447b0">isOccupied</a>(currNode, currPoint)) {</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>      }</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>      <span class="comment">// if current neighbor node is not located in the search region, we need to find the next neighbor</span></div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>      <span class="keyword">auto</span> region_query = region_set.find(new_key);</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>      <span class="keywordflow">if</span> (region_query == region_set.end()) {</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>      }</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span> </div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>      <a class="code hl_struct" href="structJPS_1_1Node.html">Node</a> newNode;</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>      newNode.<a class="code hl_variable" href="structJPS_1_1Node.html#adabc4bd081e00c8b180800c1890b8580">key</a> = new_key;</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span> </div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>      <span class="keyword">auto</span> closed_query = <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20737c7c971f1864c1d37b82cbe91ba">closed</a>.find(newNode);</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>      <span class="keyword">auto</span> open_query   = <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ae420d96e4875e1d0149a2f85845bd9d0">open</a>.find(newNode);</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>      <span class="comment">// neighbor is new</span></div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>      <span class="keywordflow">if</span> (closed_query == <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20737c7c971f1864c1d37b82cbe91ba">closed</a>.end() &amp;&amp; open_query == <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ae420d96e4875e1d0149a2f85845bd9d0">open</a>.end()) </div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>      {</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>        newNode.<a class="code hl_variable" href="structJPS_1_1Node.html#abbd7a819f60d402cdbddc49e15aaba24">h</a>                  = <a class="code hl_function" href="classJPS_1_1GraphSearch.html#ab58fd8a007c25ac623da4de979e178f3">getHeu</a>(new_key, goalKey, tree);</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>        newNode.<a class="code hl_variable" href="structJPS_1_1Node.html#ad33d7e01762b28a6119dd29549eefef7">f</a>                  = newNode.<a class="code hl_variable" href="structJPS_1_1Node.html#acd103d6fc47532632b3478847395077c">g</a> + newNode.<a class="code hl_variable" href="structJPS_1_1Node.html#abbd7a819f60d402cdbddc49e15aaba24">h</a>;</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>      }</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span> </div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>      NodeSet.push_back(newNode);</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>      Succ_costSet.push_back(<a class="code hl_function" href="classJPS_1_1GraphSearch.html#a3e0937fe5e617c23eb5de575fc3b8537">distEuclidean</a>(new_key, currSucc.<a class="code hl_variable" href="structJPS_1_1Node.html#adabc4bd081e00c8b180800c1890b8580">key</a>, tree) + potential_weight*dist_map[new_key]);</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>    } </div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span> </div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>  }</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>}</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span> </div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span> </div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span> </div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno"><a class="line" href="classJPS_1_1GraphSearch.html#adcd833accf5030c48d6812df72b1cfc2">  307</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classJPS_1_1GraphSearch.html#adcd833accf5030c48d6812df72b1cfc2">GraphSearch::getJpsSucc</a>(<a class="code hl_struct" href="structJPS_1_1Node.html">Node</a>&amp; currSucc, std::vector&lt;Node&gt;&amp; NodeSet, std::vector&lt;double&gt;&amp; Succ_costSet, octomap::OcTree &amp;tree)</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>{</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> norm1     = std::abs(currSucc.<a class="code hl_variable" href="structJPS_1_1Node.html#aea666661a089d39c4d26308937f83223">dx</a>)+std::abs(currSucc.<a class="code hl_variable" href="structJPS_1_1Node.html#ace2c64cb2b93f6a3fda173cecf59fec3">dy</a>)+std::abs(currSucc.<a class="code hl_variable" href="structJPS_1_1Node.html#ac744fc325ae809f080375c4b9262edd0">dz</a>); <span class="comment">// type definition:</span></div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>  <span class="keywordtype">int</span>       num_neib  = <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20b80e57fc31e272e73d3f1b9c1aac8">jn3d_</a>-&gt;nsz[norm1][0];                                              <span class="comment">// number of the possible natural neighbors</span></div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>  <span class="keywordtype">int</span>       num_fneib = <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20b80e57fc31e272e73d3f1b9c1aac8">jn3d_</a>-&gt;nsz[norm1][1];                                              <span class="comment">// number of the possible forced neighbors</span></div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>  <span class="keywordtype">int</span>       <span class="keywordtype">id</span>        = (currSucc.<a class="code hl_variable" href="structJPS_1_1Node.html#aea666661a089d39c4d26308937f83223">dx</a>+1)+3*(currSucc.<a class="code hl_variable" href="structJPS_1_1Node.html#ace2c64cb2b93f6a3fda173cecf59fec3">dy</a>+1)+9*(currSucc.<a class="code hl_variable" href="structJPS_1_1Node.html#ac744fc325ae809f080375c4b9262edd0">dz</a>+1);               <span class="comment">// 3x3 cubic id, indicating the moving directions</span></div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span> </div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>  <span class="keywordflow">for</span>( <span class="keywordtype">int</span> dev = 0; dev &lt; num_neib+num_fneib; ++dev) </div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>  {</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>    octomap::OcTreeKey newKeySucc;</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>    <span class="keywordtype">int</span> dx, dy, dz;</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span> </div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>    <span class="keywordflow">if</span>(dev &lt; num_neib) { <span class="comment">// begin from natural neighbors </span></div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>      dx = <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20b80e57fc31e272e73d3f1b9c1aac8">jn3d_</a>-&gt;ns[id][0][dev];</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>      dy = <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20b80e57fc31e272e73d3f1b9c1aac8">jn3d_</a>-&gt;ns[id][1][dev];</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>      dz = <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20b80e57fc31e272e73d3f1b9c1aac8">jn3d_</a>-&gt;ns[id][2][dev];</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>      <span class="comment">// keep moving to find the jump point</span></div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>      <span class="keywordflow">if</span>(!<a class="code hl_function" href="classJPS_1_1GraphSearch.html#a659858c708ab2384cbd419f930cd3af0">jump</a>(currSucc.<a class="code hl_variable" href="structJPS_1_1Node.html#adabc4bd081e00c8b180800c1890b8580">key</a>, dx, dy, dz, newKeySucc, tree)) {</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>      }</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>    }</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>    <span class="keywordflow">else</span> { <span class="comment">// begin from the forced neighbors</span></div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>      octomap::OcTreeKey     nextKey   = <a class="code hl_function" href="classJPS_1_1GraphSearch.html#a90b7e5d5ca13179f65661312784bd4c8">expand</a>(currSucc.<a class="code hl_variable" href="structJPS_1_1Node.html#adabc4bd081e00c8b180800c1890b8580">key</a>, <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20b80e57fc31e272e73d3f1b9c1aac8">jn3d_</a>-&gt;f1[<span class="keywordtype">id</span>][0][dev-num_neib], <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20b80e57fc31e272e73d3f1b9c1aac8">jn3d_</a>-&gt;f1[<span class="keywordtype">id</span>][1][dev-num_neib], <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20b80e57fc31e272e73d3f1b9c1aac8">jn3d_</a>-&gt;f1[<span class="keywordtype">id</span>][2][dev-num_neib]); <span class="comment">// &#39;nextKey&#39; indicates the possible obstacles&#39; position, which may lead to the generation of the forced neighbors</span></div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>      octomap::point3d       currPoint = <a class="code hl_function" href="classJPS_1_1GraphSearch.html#a7d3d17e51c0094f49eb81d1ed5bf14aa">keyToCoord_modified</a>(nextKey, tree);</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>      octomap::OcTreeNode*   currNode  = tree.search(nextKey);</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>      <span class="keywordflow">if</span> (currNode != NULL) </div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>      {</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>        <span class="keywordflow">if</span>(<a class="code hl_function" href="classJPS_1_1GraphSearch.html#abb557676b06da6ad7fdbbbd83b8447b0">isOccupied</a>(currNode, currPoint)) <span class="comment">// if find one &#39;nextKey&#39; position is occupied, there must exists at least one forced neighbor</span></div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>        {</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>          dx = <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20b80e57fc31e272e73d3f1b9c1aac8">jn3d_</a>-&gt;f2[id][0][dev-num_neib];</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>          dy = <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20b80e57fc31e272e73d3f1b9c1aac8">jn3d_</a>-&gt;f2[id][1][dev-num_neib];</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>          dz = <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20b80e57fc31e272e73d3f1b9c1aac8">jn3d_</a>-&gt;f2[id][2][dev-num_neib];</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>          <span class="keywordflow">if</span>(!<a class="code hl_function" href="classJPS_1_1GraphSearch.html#a659858c708ab2384cbd419f930cd3af0">jump</a>(currSucc.<a class="code hl_variable" href="structJPS_1_1Node.html#adabc4bd081e00c8b180800c1890b8580">key</a>, dx, dy, dz, newKeySucc, tree)) {</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>          }</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>        }</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>        <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>        }</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>      }</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>    </div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>    }</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span> </div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>    <span class="comment">// Jump points need to be added to the Openlist</span></div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>    </div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>    <a class="code hl_struct" href="structJPS_1_1Node.html">Node</a> newNode;</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>    newNode.<a class="code hl_variable" href="structJPS_1_1Node.html#adabc4bd081e00c8b180800c1890b8580">key</a> = newKeySucc;</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span> </div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>    <span class="keyword">auto</span> closed_query = <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20737c7c971f1864c1d37b82cbe91ba">closed</a>.find(newNode);</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>    <span class="keyword">auto</span> open_query   = <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ae420d96e4875e1d0149a2f85845bd9d0">open</a>.find(newNode);</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>    <span class="comment">// neighbor is new</span></div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>    <span class="keywordflow">if</span> (closed_query == <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20737c7c971f1864c1d37b82cbe91ba">closed</a>.end() &amp;&amp; open_query == <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ae420d96e4875e1d0149a2f85845bd9d0">open</a>.end()) </div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>    {</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>      octomap::OcTreeKey goalKey = tree.coordToKey(<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a9c38b415d34a53a5d2fd4bca36f59a78">goalCoord_</a>);</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>      newNode.<a class="code hl_variable" href="structJPS_1_1Node.html#abbd7a819f60d402cdbddc49e15aaba24">h</a>                  = <a class="code hl_function" href="classJPS_1_1GraphSearch.html#ab58fd8a007c25ac623da4de979e178f3">getHeu</a>(newKeySucc, goalKey, tree);</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>      newNode.<a class="code hl_variable" href="structJPS_1_1Node.html#ad33d7e01762b28a6119dd29549eefef7">f</a>                  = newNode.<a class="code hl_variable" href="structJPS_1_1Node.html#acd103d6fc47532632b3478847395077c">g</a> + newNode.<a class="code hl_variable" href="structJPS_1_1Node.html#abbd7a819f60d402cdbddc49e15aaba24">h</a>;</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>    }</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span> </div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>    NodeSet.push_back(newNode);</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>    Succ_costSet.push_back(<a class="code hl_function" href="classJPS_1_1GraphSearch.html#a3e0937fe5e617c23eb5de575fc3b8537">distEuclidean</a>(newKeySucc, currSucc.<a class="code hl_variable" href="structJPS_1_1Node.html#adabc4bd081e00c8b180800c1890b8580">key</a>, tree));</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>  }</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span> </div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>}</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span> </div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno"><a class="line" href="classJPS_1_1GraphSearch.html#ab58fd8a007c25ac623da4de979e178f3">  373</a></span><span class="keywordtype">double</span> <a class="code hl_function" href="classJPS_1_1GraphSearch.html#ab58fd8a007c25ac623da4de979e178f3">GraphSearch::getHeu</a>(octomap::OcTreeKey &amp;key1, octomap::OcTreeKey &amp;key2, octomap::OcTree &amp;tree)</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>{</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span><span class="preprocessor">#define sqrt_3 1.7320508</span></div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span><span class="preprocessor">#define sqrt_2 1.4142136</span></div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span> </div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>    <span class="keywordtype">double</span> h = 0.0;</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>    octomap::point3d point1 = tree.keyToCoord(key1);</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>    octomap::point3d point2 = tree.keyToCoord(key2);</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>    <span class="keywordtype">double</span> dx = std::fabs(point1.x() - point2.x());</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>    <span class="keywordtype">double</span> dy = std::fabs(point1.y() - point2.y());</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>    <span class="keywordtype">double</span> dz = std::fabs(point1.z() - point2.z());</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#af27db35a820ad86a6438ed49eccf553e">heuristic_function_type</a> == <a class="code hl_enumvalue" href="classJPS_1_1GraphSearch.html#a51aca7bb200b62db42cf2965d6df2067a1834cdf9bf35ea1d737c15eef72e18c7">HeuristicFunctionType::Manhattan</a>) {</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>        h = dx + dy + dz;</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#af27db35a820ad86a6438ed49eccf553e">heuristic_function_type</a> == <a class="code hl_enumvalue" href="classJPS_1_1GraphSearch.html#a51aca7bb200b62db42cf2965d6df2067a3e43207685247008d9e1ae53ecf8cab3">HeuristicFunctionType::Euclidean</a>) {</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>        h = (point1 - point2).norm();</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#af27db35a820ad86a6438ed49eccf553e">heuristic_function_type</a> == <a class="code hl_enumvalue" href="classJPS_1_1GraphSearch.html#a51aca7bb200b62db42cf2965d6df2067a9ac677ee4eec25d9e59707a661d2c5e1">HeuristicFunctionType::Diagonal</a>) {</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>        <span class="keywordtype">double</span> min_xyz = std::min({dx, dy, dz});</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>        <span class="keywordtype">double</span> max_xyz = std::max({dx, dy, dz});</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>        <span class="keywordtype">double</span> mid_xyz = dx + dy + dz - min_xyz - max_xyz;</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>        h = (<a class="code hl_define" href="rokae__graph__search_8cpp.html#a3d7695a430a739b2fcc0a91487240e19">sqrt_3</a> - <a class="code hl_define" href="rokae__graph__search_8cpp.html#a769d527d3d9f20014f365a10524ff94d">sqrt_2</a>) * min_xyz + (<a class="code hl_define" href="rokae__graph__search_8cpp.html#a769d527d3d9f20014f365a10524ff94d">sqrt_2</a> - 1) * mid_xyz + max_xyz;</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>    } </div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span> </div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>    <span class="keywordflow">return</span> h * <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a58182b87cf68eba55de25fc80c1f538a">eps_</a>;</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>}</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span> </div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno"><a class="line" href="classJPS_1_1GraphSearch.html#a659858c708ab2384cbd419f930cd3af0">  398</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classJPS_1_1GraphSearch.html#a659858c708ab2384cbd419f930cd3af0">GraphSearch::jump</a>(octomap::OcTreeKey &amp;currKey, <span class="keywordtype">int</span> dx, <span class="keywordtype">int</span> dy, <span class="keywordtype">int</span> dz, octomap::OcTreeKey &amp;newKey, octomap::OcTree &amp;tree) </div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>{</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>  <span class="comment">// follow current direction to find the next point</span></div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>  newKey = <a class="code hl_function" href="classJPS_1_1GraphSearch.html#a90b7e5d5ca13179f65661312784bd4c8">expand</a>(currKey, dx, dy, dz);</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>  octomap::OcTreeNode* newNode = tree.search(newKey);</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>  octomap::point3d newCoord = <a class="code hl_function" href="classJPS_1_1GraphSearch.html#a7d3d17e51c0094f49eb81d1ed5bf14aa">keyToCoord_modified</a>(newKey, tree);</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>  <span class="comment">// if n is an obstacle or is outside the gird</span></div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="classJPS_1_1GraphSearch.html#a9920cf97161c69a9d9813cc117dd516a">isFree</a>(newNode, newCoord))</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>  <span class="comment">// if n reach the goal</span></div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classJPS_1_1GraphSearch.html#a3e0937fe5e617c23eb5de575fc3b8537">distEuclidean</a>(newCoord, <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a9c38b415d34a53a5d2fd4bca36f59a78">goalCoord_</a>) &lt;= 1.1 * <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a87e9a702af8778200d4db9b114c9bb5d">planning_tree_resolution_</a>)</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>  <span class="comment">// if n has at least one forced neighbor</span></div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classJPS_1_1GraphSearch.html#afc0c40b5260a870ce3e747cdb3178748">hasForced</a>(dx, dy, dz, newKey, tree))</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span> </div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> <span class="keywordtype">id</span>       = (dx+1)+3*(dy+1)+9*(dz+1);</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> norm1    = std::abs(dx) + std::abs(dy) +std::abs(dz);</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>  <span class="keywordtype">int</span>       num_neib = <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20b80e57fc31e272e73d3f1b9c1aac8">jn3d_</a>-&gt;nsz[norm1][0]; <span class="comment">// number of natural neighbors, leading to limited expansion directions</span></div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span> </div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>  <span class="comment">// no judgement here, so we need to &#39;jump&#39; all directions of current node to find a jump point</span></div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>  <span class="keywordflow">for</span>( <span class="keywordtype">int</span> k = 0; k &lt; num_neib-1; ++k )</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>  {</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>    octomap::OcTreeKey new_newKey;</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="classJPS_1_1GraphSearch.html#a659858c708ab2384cbd419f930cd3af0">jump</a>(newKey, <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20b80e57fc31e272e73d3f1b9c1aac8">jn3d_</a>-&gt;ns[<span class="keywordtype">id</span>][0][k], <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20b80e57fc31e272e73d3f1b9c1aac8">jn3d_</a>-&gt;ns[<span class="keywordtype">id</span>][1][k], <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20b80e57fc31e272e73d3f1b9c1aac8">jn3d_</a>-&gt;ns[<span class="keywordtype">id</span>][2][k], new_newKey, tree)) {</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>    }</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>  }</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>  <span class="comment">// keep moving at current direction</span></div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classJPS_1_1GraphSearch.html#a659858c708ab2384cbd419f930cd3af0">jump</a>(newKey, dx, dy, dz, newKey, tree);</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>}</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span> </div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno"><a class="line" href="classJPS_1_1GraphSearch.html#afc0c40b5260a870ce3e747cdb3178748">  430</a></span><span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="classJPS_1_1GraphSearch.html#afc0c40b5260a870ce3e747cdb3178748">GraphSearch::hasForced</a>(<span class="keywordtype">int</span> dx, <span class="keywordtype">int</span> dy, <span class="keywordtype">int</span> dz, octomap::OcTreeKey &amp;key, octomap::OcTree &amp;tree) </div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>{</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>  <span class="keywordtype">int</span> norm1 = std::abs(dx) + std::abs(dy) + std::abs(dz);</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>  <span class="keywordtype">int</span> <span class="keywordtype">id</span> = (dx+1)+3*(dy+1)+9*(dz+1);</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>  <span class="keywordflow">switch</span>(norm1)</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>  {</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>    <span class="keywordflow">case</span> 1:</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>      <span class="comment">// 1-d move, check 8 neighbors</span></div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>      <span class="keywordflow">for</span>( <span class="keywordtype">int</span> fn = 0; fn &lt; 8; ++fn )</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>      {</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>        octomap::OcTreeKey   newKey   = <a class="code hl_function" href="classJPS_1_1GraphSearch.html#a90b7e5d5ca13179f65661312784bd4c8">expand</a>(key, <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20b80e57fc31e272e73d3f1b9c1aac8">jn3d_</a>-&gt;f1[<span class="keywordtype">id</span>][0][fn], <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20b80e57fc31e272e73d3f1b9c1aac8">jn3d_</a>-&gt;f1[<span class="keywordtype">id</span>][1][fn], <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20b80e57fc31e272e73d3f1b9c1aac8">jn3d_</a>-&gt;f1[<span class="keywordtype">id</span>][2][fn]);</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>        octomap::OcTreeNode* newNode  = tree.search(newKey);</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>        octomap::point3d     newPoint = <a class="code hl_function" href="classJPS_1_1GraphSearch.html#a7d3d17e51c0094f49eb81d1ed5bf14aa">keyToCoord_modified</a>(newKey, tree);</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classJPS_1_1GraphSearch.html#abb557676b06da6ad7fdbbbd83b8447b0">isOccupied</a>(newNode, newPoint) ) {</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>        }</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>      }</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>    <span class="keywordflow">case</span> 2:</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>      <span class="comment">// 2-d move, check 8 neighbors</span></div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>      <span class="keywordflow">for</span>( <span class="keywordtype">int</span> fn = 0; fn &lt; 8; ++fn )</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>      {</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>        octomap::OcTreeKey   newKey   = <a class="code hl_function" href="classJPS_1_1GraphSearch.html#a90b7e5d5ca13179f65661312784bd4c8">expand</a>(key, <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20b80e57fc31e272e73d3f1b9c1aac8">jn3d_</a>-&gt;f1[<span class="keywordtype">id</span>][0][fn], <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20b80e57fc31e272e73d3f1b9c1aac8">jn3d_</a>-&gt;f1[<span class="keywordtype">id</span>][1][fn], <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20b80e57fc31e272e73d3f1b9c1aac8">jn3d_</a>-&gt;f1[<span class="keywordtype">id</span>][2][fn]);</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>        octomap::OcTreeNode* newNode  = tree.search(newKey);</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>        octomap::point3d     newPoint = <a class="code hl_function" href="classJPS_1_1GraphSearch.html#a7d3d17e51c0094f49eb81d1ed5bf14aa">keyToCoord_modified</a>(newKey, tree);</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classJPS_1_1GraphSearch.html#abb557676b06da6ad7fdbbbd83b8447b0">isOccupied</a>(newNode, newPoint) ) {</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>        }</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>      }</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>    <span class="keywordflow">case</span> 3:</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>      <span class="comment">// 3-d move, check 6 neighbors</span></div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>      <span class="keywordflow">for</span>( <span class="keywordtype">int</span> fn = 0; fn &lt; 6; ++fn )</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>      {</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>        octomap::OcTreeKey   newKey   = <a class="code hl_function" href="classJPS_1_1GraphSearch.html#a90b7e5d5ca13179f65661312784bd4c8">expand</a>(key, <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20b80e57fc31e272e73d3f1b9c1aac8">jn3d_</a>-&gt;f1[<span class="keywordtype">id</span>][0][fn], <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20b80e57fc31e272e73d3f1b9c1aac8">jn3d_</a>-&gt;f1[<span class="keywordtype">id</span>][1][fn], <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20b80e57fc31e272e73d3f1b9c1aac8">jn3d_</a>-&gt;f1[<span class="keywordtype">id</span>][2][fn]);</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>        octomap::OcTreeNode* newNode  = tree.search(newKey);</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>        octomap::point3d     newPoint = <a class="code hl_function" href="classJPS_1_1GraphSearch.html#a7d3d17e51c0094f49eb81d1ed5bf14aa">keyToCoord_modified</a>(newKey, tree);</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classJPS_1_1GraphSearch.html#abb557676b06da6ad7fdbbbd83b8447b0">isOccupied</a>(newNode, newPoint) ) {</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>        }</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>      }</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>  }</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>}</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span> </div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span> </div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno"><a class="line" href="classJPS_1_1GraphSearch.html#abb557676b06da6ad7fdbbbd83b8447b0">  478</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classJPS_1_1GraphSearch.html#abb557676b06da6ad7fdbbbd83b8447b0">GraphSearch::isOccupied</a>(octomap::OcTreeNode* currNode, octomap::point3d &amp;point)</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>{</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>  <span class="comment">// default occupancy probability threshold is set to 0.5</span></div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>  <span class="comment">// the `value` store the log-odds value, so getOccupancy run probability() function to do type transfer</span></div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>  <span class="keywordflow">return</span> (currNode!=NULL &amp;&amp; currNode-&gt;getOccupancy() &gt;= 0.5 &amp;&amp; point.x() &lt; <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a0be9323bb98003826f4ee3b31d9811a6">xDim_</a> &amp;&amp; point.x() &gt; -<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a0be9323bb98003826f4ee3b31d9811a6">xDim_</a> </div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>                  &amp;&amp; point.y() &lt; <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a33d592fc21f0872546364703dcac1bef">yDim_</a> &amp;&amp; point.y() &gt; -<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a33d592fc21f0872546364703dcac1bef">yDim_</a> &amp;&amp; point.z() &lt; <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ac1dd9827e96e3f46d3eb2b616ac20000">zDim_</a> &amp;&amp; point.z() &gt; -<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ac1dd9827e96e3f46d3eb2b616ac20000">zDim_</a>);</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span> </div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>}</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span> </div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno"><a class="line" href="classJPS_1_1GraphSearch.html#a9920cf97161c69a9d9813cc117dd516a">  487</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classJPS_1_1GraphSearch.html#a9920cf97161c69a9d9813cc117dd516a">GraphSearch::isFree</a>(octomap::OcTreeNode* currNode, octomap::point3d &amp;point)</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>{</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>  <span class="keywordflow">return</span> (currNode!=NULL &amp;&amp; currNode-&gt;getOccupancy() &lt; 0.5 &amp;&amp; point.x() &lt; <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a0be9323bb98003826f4ee3b31d9811a6">xDim_</a> &amp;&amp; point.x() &gt; -<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a0be9323bb98003826f4ee3b31d9811a6">xDim_</a> </div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>                  &amp;&amp; point.y() &lt; <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a33d592fc21f0872546364703dcac1bef">yDim_</a> &amp;&amp; point.y() &gt; -<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a33d592fc21f0872546364703dcac1bef">yDim_</a> &amp;&amp; point.z() &lt; <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ac1dd9827e96e3f46d3eb2b616ac20000">zDim_</a> &amp;&amp; point.z() &gt; -<a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ac1dd9827e96e3f46d3eb2b616ac20000">zDim_</a>);</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>}</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span> </div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno"><a class="line" href="classJPS_1_1GraphSearch.html#a3e0937fe5e617c23eb5de575fc3b8537">  493</a></span><span class="keywordtype">double</span> <a class="code hl_function" href="classJPS_1_1GraphSearch.html#a3e0937fe5e617c23eb5de575fc3b8537">GraphSearch::distEuclidean</a>(<span class="keyword">const</span> octomap::point3d &amp;p1, <span class="keyword">const</span> octomap::point3d &amp;p2) {</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>  <span class="keywordflow">return</span> (p1 - p2).norm();</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>}</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span> </div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno"><a class="line" href="classJPS_1_1GraphSearch.html#abc0df7218d376f4bde22e44d90ced58a">  497</a></span><span class="keywordtype">double</span> <a class="code hl_function" href="classJPS_1_1GraphSearch.html#a3e0937fe5e617c23eb5de575fc3b8537">GraphSearch::distEuclidean</a>(<span class="keyword">const</span> octomap::OcTreeKey &amp;k1, <span class="keyword">const</span> octomap::OcTreeKey &amp;k2, octomap::OcTree &amp;tree)</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>{</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>  <span class="keywordtype">double</span> voxel_dist = sqrt(pow(k1.k[0] - k2.k[0], 2) + pow(k1.k[1] - k2.k[1], 2) + pow(k1.k[2] - k2.k[2], 2));</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>  <span class="keywordflow">return</span> voxel_dist * tree.getResolution();</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>}</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span> </div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno"><a class="line" href="classJPS_1_1GraphSearch.html#a90b7e5d5ca13179f65661312784bd4c8">  503</a></span>octomap::OcTreeKey <a class="code hl_function" href="classJPS_1_1GraphSearch.html#a90b7e5d5ca13179f65661312784bd4c8">GraphSearch::expand</a>(<span class="keyword">const</span> octomap::OcTreeKey &amp;key, <span class="keywordtype">int</span> dx, <span class="keywordtype">int</span> dy, <span class="keywordtype">int</span> dz) </div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>{</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>  octomap::OcTreeKey k;</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span> </div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>  k.k[0] = key.k[0] + dx;</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>  k.k[1] = key.k[1] + dy;</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>  k.k[2] = key.k[2] + dz;</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span> </div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>  <span class="keywordflow">return</span> k;</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>}</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span> </div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno"><a class="line" href="classJPS_1_1GraphSearch.html#a7d3d17e51c0094f49eb81d1ed5bf14aa">  514</a></span>octomap::point3d <a class="code hl_function" href="classJPS_1_1GraphSearch.html#a7d3d17e51c0094f49eb81d1ed5bf14aa">GraphSearch::keyToCoord_modified</a>(octomap::OcTreeKey &amp;NodeKey, octomap::OcTree &amp;tree)</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>{</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>  octomap::point3d point = tree.keyToCoord(NodeKey);</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>  octomap::point3d point_modified(point.x() - 0.5 * <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a87e9a702af8778200d4db9b114c9bb5d">planning_tree_resolution_</a>, point.y() - 0.5 * <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a87e9a702af8778200d4db9b114c9bb5d">planning_tree_resolution_</a>, point.z() - 0.5 * <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a87e9a702af8778200d4db9b114c9bb5d">planning_tree_resolution_</a>);</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>  </div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>  <span class="keywordflow">return</span> point_modified;</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>}</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span> </div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno"><a class="line" href="classJPS_1_1GraphSearch.html#a558de178785d62e710bcf9104c22a7f1">  522</a></span>std::vector&lt;octomap::OcTreeKey&gt; <a class="code hl_function" href="classJPS_1_1GraphSearch.html#a558de178785d62e710bcf9104c22a7f1">GraphSearch::backtrackPathKeys</a>(<span class="keyword">const</span> <a class="code hl_struct" href="structJPS_1_1Node.html">Node</a> &amp;from, <span class="keyword">const</span> <a class="code hl_struct" href="structJPS_1_1Node.html">Node</a> &amp;to) </div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>{</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>  std::vector&lt;octomap::OcTreeKey&gt; keys;</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span> </div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>  <a class="code hl_struct" href="structJPS_1_1Node.html">Node</a> current = from;</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>  keys.push_back(current.<a class="code hl_variable" href="structJPS_1_1Node.html#adabc4bd081e00c8b180800c1890b8580">key</a>);</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span> </div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>  <span class="keywordflow">while</span> (current.<a class="code hl_variable" href="structJPS_1_1Node.html#adabc4bd081e00c8b180800c1890b8580">key</a> != to.<a class="code hl_variable" href="structJPS_1_1Node.html#adabc4bd081e00c8b180800c1890b8580">key</a>) {</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>    current = <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a5df0b62a153c80282391a10cf0564272">parent_map</a>.find(current)-&gt;second; <span class="comment">// parent_map: &lt;first Node: Child, second Node: Parent, HashFunction&gt;</span></div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>    keys.push_back(current.<a class="code hl_variable" href="structJPS_1_1Node.html#adabc4bd081e00c8b180800c1890b8580">key</a>);</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>  };</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span> </div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>  keys.push_back(to.<a class="code hl_variable" href="structJPS_1_1Node.html#adabc4bd081e00c8b180800c1890b8580">key</a>);</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span> </div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>  <span class="comment">// reverse order</span></div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>  std::reverse(keys.begin(), keys.end());</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span> </div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>  <span class="keywordflow">return</span> keys;</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>}</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span> </div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno"><a class="line" href="classJPS_1_1GraphSearch.html#a666450ba9af8778e43799bfe84498c61">  542</a></span>std::vector&lt;octomap::OcTreeKey&gt; <a class="code hl_function" href="classJPS_1_1GraphSearch.html#a666450ba9af8778e43799bfe84498c61">GraphSearch::getPathKeys</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#aec40c819291bbe3cdb6e2bcc27b6de0c">path_Keys_</a>;</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>}</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span> </div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno"><a class="line" href="classJPS_1_1GraphSearch.html#a6b37b3e44d8c811e9327cbc43d07230c">  546</a></span>std::vector&lt;Node&gt; <a class="code hl_function" href="classJPS_1_1GraphSearch.html#a6b37b3e44d8c811e9327cbc43d07230c">GraphSearch::getOpenSet</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>  std::vector&lt;Node&gt; openSet;</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ae420d96e4875e1d0149a2f85845bd9d0">open</a>.begin(); it != <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ae420d96e4875e1d0149a2f85845bd9d0">open</a>.end(); it++) {</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>    openSet.push_back(*it);</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>  }</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>  </div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>  <span class="keywordflow">return</span> openSet;</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>}</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span> </div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno"><a class="line" href="classJPS_1_1GraphSearch.html#ab68c7662dd939cf61b0c02c60286a9c9">  555</a></span>std::vector&lt;Node&gt; <a class="code hl_function" href="classJPS_1_1GraphSearch.html#ab68c7662dd939cf61b0c02c60286a9c9">GraphSearch::getCloseSet</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>  std::vector&lt;Node&gt; closeSet;</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20737c7c971f1864c1d37b82cbe91ba">closed</a>.begin(); it != <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#ad20737c7c971f1864c1d37b82cbe91ba">closed</a>.end(); it++) {</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>    closeSet.push_back(*it);</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>  }</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>  </div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>  <span class="keywordflow">return</span> closeSet;</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>}</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span> </div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno"><a class="line" href="classJPS_1_1GraphSearch.html#ab0094372b214fa57c9b2234779ea2bd8">  564</a></span><a class="code hl_enumeration" href="classJPS_1_1GraphSearch.html#a1854bbd5830db76fb29d84f2b55ab881">GraphSearch::PlanningState</a> <a class="code hl_function" href="classJPS_1_1GraphSearch.html#ab0094372b214fa57c9b2234779ea2bd8">GraphSearch::getPlanningStatus</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#a932fb8321d5abbab78d420d84b906ee8">planning_status_</a>;};</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span> </div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span> </div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno"><a class="line" href="classJPS_1_1GraphSearch.html#aa6cb7f1512a36bd182b2f84668844812">  567</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classJPS_1_1GraphSearch.html#aa6cb7f1512a36bd182b2f84668844812">GraphSearch::SetHeuristic</a>(<span class="keyword">const</span> ros::NodeHandle &amp;nh)</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>{</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>    std::string heu_type;</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>    <a class="code hl_function" href="classJPS_1_1GraphSearch.html#a56013821fb9518129cda4b744eef6b44">GraphSearch::parse_param</a>(<span class="stringliteral">&quot;heuristic_type&quot;</span>, heu_type, nh);</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span> </div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>    <span class="comment">// Manhattan = 0, Euclidean=1, Diagonal=2</span></div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>    <span class="keywordflow">if</span> (heu_type == <span class="stringliteral">&quot;Manhattan&quot;</span>) {</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>        <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#af27db35a820ad86a6438ed49eccf553e">heuristic_function_type</a> = <a class="code hl_enumvalue" href="classJPS_1_1GraphSearch.html#a51aca7bb200b62db42cf2965d6df2067a1834cdf9bf35ea1d737c15eef72e18c7">HeuristicFunctionType::Manhattan</a>;</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (heu_type == <span class="stringliteral">&quot;Euclidean&quot;</span>) {</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>        <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#af27db35a820ad86a6438ed49eccf553e">heuristic_function_type</a> = <a class="code hl_enumvalue" href="classJPS_1_1GraphSearch.html#a51aca7bb200b62db42cf2965d6df2067a3e43207685247008d9e1ae53ecf8cab3">HeuristicFunctionType::Euclidean</a>;</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (heu_type == <span class="stringliteral">&quot;Diagonal&quot;</span>) {</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>        <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#af27db35a820ad86a6438ed49eccf553e">heuristic_function_type</a> = <a class="code hl_enumvalue" href="classJPS_1_1GraphSearch.html#a51aca7bb200b62db42cf2965d6df2067a9ac677ee4eec25d9e59707a661d2c5e1">HeuristicFunctionType::Diagonal</a>;</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>        <a class="code hl_variable" href="classJPS_1_1GraphSearch.html#af27db35a820ad86a6438ed49eccf553e">heuristic_function_type</a> = <a class="code hl_enumvalue" href="classJPS_1_1GraphSearch.html#a51aca7bb200b62db42cf2965d6df2067a9ac677ee4eec25d9e59707a661d2c5e1">HeuristicFunctionType::Diagonal</a>;</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>    }</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>}</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span> </div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno"><a class="line" href="classJPS_1_1GraphSearch.html#a56013821fb9518129cda4b744eef6b44">  585</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classJPS_1_1GraphSearch.html#a56013821fb9518129cda4b744eef6b44">GraphSearch::parse_param</a>(<span class="keyword">const</span> std::string &amp;param_name, T &amp;param_dest, <span class="keyword">const</span> ros::NodeHandle &amp;nh) </div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>{</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>  <span class="keywordflow">if</span> (!nh.getParam(param_name, param_dest)) {</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>    ROS_ERROR_STREAM(<span class="stringliteral">&quot;[rokae_navigation_JPS]: Could not load param &#39;&quot;</span> &lt;&lt; param_name.c_str() &lt;&lt;<span class="stringliteral">&quot;&#39;&quot;</span>);</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>    ROS_INFO_STREAM(<span class="stringliteral">&quot;[rokae_navigation_JPS]: Loaded &#39;&quot;</span> &lt;&lt; param_name &lt;&lt; <span class="stringliteral">&quot;&#39; = &#39;&quot;</span> &lt;&lt; param_dest &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span>);</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>  }</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>}</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span> </div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span><span class="keyword">constexpr</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="structJPS_1_1JPS3DNeib.html#a4049fc11d1d51a3c44bd811cbb20171e">JPS3DNeib::nsz</a>[4][2];</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span> </div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno"><a class="line" href="structJPS_1_1JPS3DNeib.html#ace9bf5e5299efb42287a8f0bd7599cb2">  598</a></span><a class="code hl_function" href="structJPS_1_1JPS3DNeib.html#ace9bf5e5299efb42287a8f0bd7599cb2">JPS3DNeib::JPS3DNeib</a>() {</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>  <span class="keywordtype">int</span> <span class="keywordtype">id</span> = 0;</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> dz = -1; dz &lt;= 1; ++dz) {</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> dy = -1; dy &lt;= 1; ++dy) {</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> dx = -1; dx &lt;= 1; ++dx) {</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>        <span class="comment">// norm1 = 0: no move; norm1 = 1: straight; norm1 = 2: diagonal sqrt(2); norm1 = 3: diagonal sqrt(3)</span></div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>        <span class="keywordtype">int</span> norm1 = std::abs(dx) + std::abs(dy) + std::abs(dz); </div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> dev = 0; dev &lt; <a class="code hl_variable" href="structJPS_1_1JPS3DNeib.html#a4049fc11d1d51a3c44bd811cbb20171e">nsz</a>[norm1][0]; ++dev){</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>          <a class="code hl_function" href="structJPS_1_1JPS3DNeib.html#a7e8781c34db20b4f4aeaf7a21c22fa51">Neib</a>(dx, dy, dz, norm1, dev, <a class="code hl_variable" href="structJPS_1_1JPS3DNeib.html#ab2ebcc208f82cfc525e37232ec547a07">ns</a>[<span class="keywordtype">id</span>][0][dev], <a class="code hl_variable" href="structJPS_1_1JPS3DNeib.html#ab2ebcc208f82cfc525e37232ec547a07">ns</a>[<span class="keywordtype">id</span>][1][dev], <a class="code hl_variable" href="structJPS_1_1JPS3DNeib.html#ab2ebcc208f82cfc525e37232ec547a07">ns</a>[<span class="keywordtype">id</span>][2][dev]);</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>        }</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span> </div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> dev = 0; dev &lt; <a class="code hl_variable" href="structJPS_1_1JPS3DNeib.html#a4049fc11d1d51a3c44bd811cbb20171e">nsz</a>[norm1][1]; ++dev)</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>        {</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>          <a class="code hl_function" href="structJPS_1_1JPS3DNeib.html#ad58f7ec2e1de7525c2d7a72f9b518591">FNeib</a>(dx,dy,dz,norm1,dev,</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>              <a class="code hl_variable" href="structJPS_1_1JPS3DNeib.html#a6f4000acff085200f4dd410a674d56e2">f1</a>[<span class="keywordtype">id</span>][0][dev],<a class="code hl_variable" href="structJPS_1_1JPS3DNeib.html#a6f4000acff085200f4dd410a674d56e2">f1</a>[<span class="keywordtype">id</span>][1][dev], <a class="code hl_variable" href="structJPS_1_1JPS3DNeib.html#a6f4000acff085200f4dd410a674d56e2">f1</a>[<span class="keywordtype">id</span>][2][dev],</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>              <a class="code hl_variable" href="structJPS_1_1JPS3DNeib.html#ab15d2d36de77dc099be5df9dec0357d2">f2</a>[<span class="keywordtype">id</span>][0][dev],<a class="code hl_variable" href="structJPS_1_1JPS3DNeib.html#ab15d2d36de77dc099be5df9dec0357d2">f2</a>[<span class="keywordtype">id</span>][1][dev], <a class="code hl_variable" href="structJPS_1_1JPS3DNeib.html#ab15d2d36de77dc099be5df9dec0357d2">f2</a>[<span class="keywordtype">id</span>][2][dev]);</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>        }</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>        <span class="keywordtype">id</span> ++;</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>      }</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>    }</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>  }</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>}</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span> </div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span> </div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno"><a class="line" href="structJPS_1_1JPS3DNeib.html#a7e8781c34db20b4f4aeaf7a21c22fa51">  622</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="structJPS_1_1JPS3DNeib.html#a7e8781c34db20b4f4aeaf7a21c22fa51">JPS3DNeib::Neib</a>(<span class="keywordtype">int</span> dx, <span class="keywordtype">int</span> dy, <span class="keywordtype">int</span> dz, <span class="keywordtype">int</span> norm1, <span class="keywordtype">int</span> dev, <span class="keywordtype">int</span> &amp;tx, <span class="keywordtype">int</span> &amp;ty, <span class="keywordtype">int</span> &amp;tz)</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>{</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>  <span class="keywordflow">switch</span>(norm1)</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>  {</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>    <span class="keywordflow">case</span> 0:</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>      <span class="keywordflow">switch</span>(dev)</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>      {</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>        <span class="keywordflow">case</span> 0:  tx=1;  ty=0;  tz=0;  <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>        <span class="keywordflow">case</span> 1:  tx=-1; ty=0;  tz=0;  <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>        <span class="keywordflow">case</span> 2:  tx=0;  ty=1;  tz=0;  <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>        <span class="keywordflow">case</span> 3:  tx=1;  ty=1;  tz=0;  <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>        <span class="keywordflow">case</span> 4:  tx=-1; ty=1;  tz=0;  <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>        <span class="keywordflow">case</span> 5:  tx=0;  ty=-1; tz=0;  <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>        <span class="keywordflow">case</span> 6:  tx=1;  ty=-1; tz=0;  <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>        <span class="keywordflow">case</span> 7:  tx=-1; ty=-1; tz=0;  <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>        <span class="keywordflow">case</span> 8:  tx=0;  ty=0;  tz=1;  <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>        <span class="keywordflow">case</span> 9:  tx=1;  ty=0;  tz=1;  <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>        <span class="keywordflow">case</span> 10: tx=-1; ty=0;  tz=1;  <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>        <span class="keywordflow">case</span> 11: tx=0;  ty=1;  tz=1;  <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>        <span class="keywordflow">case</span> 12: tx=1;  ty=1;  tz=1;  <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>        <span class="keywordflow">case</span> 13: tx=-1; ty=1;  tz=1;  <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>        <span class="keywordflow">case</span> 14: tx=0;  ty=-1; tz=1;  <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>        <span class="keywordflow">case</span> 15: tx=1;  ty=-1; tz=1;  <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>        <span class="keywordflow">case</span> 16: tx=-1; ty=-1; tz=1;  <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>        <span class="keywordflow">case</span> 17: tx=0;  ty=0;  tz=-1; <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>        <span class="keywordflow">case</span> 18: tx=1;  ty=0;  tz=-1; <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>        <span class="keywordflow">case</span> 19: tx=-1; ty=0;  tz=-1; <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>        <span class="keywordflow">case</span> 20: tx=0;  ty=1;  tz=-1; <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>        <span class="keywordflow">case</span> 21: tx=1;  ty=1;  tz=-1; <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>        <span class="keywordflow">case</span> 22: tx=-1; ty=1;  tz=-1; <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>        <span class="keywordflow">case</span> 23: tx=0;  ty=-1; tz=-1; <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>        <span class="keywordflow">case</span> 24: tx=1;  ty=-1; tz=-1; <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>        <span class="keywordflow">case</span> 25: tx=-1; ty=-1; tz=-1; <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>      }</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>    <span class="keywordflow">case</span> 1:</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>      tx = dx; ty = dy; tz = dz; <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>    <span class="keywordflow">case</span> 2:</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>      <span class="keywordflow">switch</span>(dev)</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>      {</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>        <span class="keywordflow">case</span> 0:</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>          <span class="keywordflow">if</span>(dz == 0){</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>            tx = 0; ty = dy; tz = 0; <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>          }<span class="keywordflow">else</span>{</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>            tx = 0; ty = 0; tz = dz; <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>          }</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>        <span class="keywordflow">case</span> 1:</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>          <span class="keywordflow">if</span>(dx == 0){</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>            tx = 0; ty = dy; tz = 0; <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>          }<span class="keywordflow">else</span>{</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>            tx = dx; ty = 0; tz = 0; <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>          }</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>        <span class="keywordflow">case</span> 2:</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>          tx = dx; ty = dy; tz = dz; <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>      }</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>    <span class="keywordflow">case</span> 3:</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>      <span class="keywordflow">switch</span>(dev)</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>      {</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>        <span class="keywordflow">case</span> 0: tx = dx; ty =  0; tz =  0; <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>        <span class="keywordflow">case</span> 1: tx =  0; ty = dy; tz =  0; <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>        <span class="keywordflow">case</span> 2: tx =  0; ty =  0; tz = dz; <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>        <span class="keywordflow">case</span> 3: tx = dx; ty = dy; tz =  0; <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>        <span class="keywordflow">case</span> 4: tx = dx; ty =  0; tz = dz; <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>        <span class="keywordflow">case</span> 5: tx =  0; ty = dy; tz = dz; <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>        <span class="keywordflow">case</span> 6: tx = dx; ty = dy; tz = dz; <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>      }</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>  }</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>}</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span> </div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno"><a class="line" href="structJPS_1_1JPS3DNeib.html#ad58f7ec2e1de7525c2d7a72f9b518591">  690</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="structJPS_1_1JPS3DNeib.html#ad58f7ec2e1de7525c2d7a72f9b518591">JPS3DNeib::FNeib</a>( <span class="keywordtype">int</span> dx, <span class="keywordtype">int</span> dy, <span class="keywordtype">int</span> dz, <span class="keywordtype">int</span> norm1, <span class="keywordtype">int</span> dev,</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>                          <span class="keywordtype">int</span>&amp; fx, <span class="keywordtype">int</span>&amp; fy, <span class="keywordtype">int</span>&amp; fz,</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>                          <span class="keywordtype">int</span>&amp; nx, <span class="keywordtype">int</span>&amp; ny, <span class="keywordtype">int</span>&amp; nz)</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>{</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>  <span class="keywordflow">switch</span>(norm1)</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>  {</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>    <span class="keywordflow">case</span> 1:</div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>      <span class="keywordflow">switch</span>(dev)</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>      {</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>        <span class="keywordflow">case</span> 0: fx= 0; fy= 1; fz = 0; <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>        <span class="keywordflow">case</span> 1: fx= 0; fy=-1; fz = 0; <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>        <span class="keywordflow">case</span> 2: fx= 1; fy= 0; fz = 0; <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>        <span class="keywordflow">case</span> 3: fx= 1; fy= 1; fz = 0; <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>        <span class="keywordflow">case</span> 4: fx= 1; fy=-1; fz = 0; <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>        <span class="keywordflow">case</span> 5: fx=-1; fy= 0; fz = 0; <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>        <span class="keywordflow">case</span> 6: fx=-1; fy= 1; fz = 0; <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>        <span class="keywordflow">case</span> 7: fx=-1; fy=-1; fz = 0; <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>      }</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>      <span class="comment">// moving along One-Axis, the check nodes plane is next to the forced neighbor nodes plane and the direction is the positive direction of the axis moving along.</span></div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>      nx = fx; ny = fy; nz = dz; <span class="comment">// default: moving along the &#39;z&#39; axis, so check nodes located at the &#39;xy&#39; plane</span></div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>      <span class="comment">// switch order if different direction</span></div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>      <span class="keywordflow">if</span>(dx != 0){               <span class="comment">// moving along the &#39;x&#39; axis, so check nodes located at the &#39;yz&#39; plane plane</span></div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>        fz = fx; fx = 0;</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>        nz = fz; nx = dx;</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>      }<span class="keywordflow">if</span>(dy != 0){              <span class="comment">// moving along the &#39;y&#39; axis, so check nodes located at the &#39;zx&#39; plane</span></div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>        fz = fy; fy = 0;</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>        nz = fz; ny = dy;</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>      }</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>    <span class="keywordflow">case</span> 2:</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>      <span class="keywordflow">if</span>(dx == 0){</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>        <span class="keywordflow">switch</span>(dev)</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>        {</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>          <span class="keywordflow">case</span> 0:</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>            fx = 0; fy = 0; fz = -dz;</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>            nx = 0; ny = dy; nz = -dz;</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>          <span class="keywordflow">case</span> 1:</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>            fx = 0; fy = -dy; fz = 0;</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>            nx = 0; ny = -dy; nz = dz;</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>          <span class="keywordflow">case</span> 2:</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>            fx = 1; fy = 0; fz = 0;</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>            nx = 1; ny = dy; nz = dz;</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>          <span class="keywordflow">case</span> 3:</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>            fx = -1; fy = 0; fz = 0;</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>            nx = -1; ny = dy; nz = dz;</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>          <span class="keywordflow">case</span> 4:</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>            fx = 1; fy = 0; fz = -dz;</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>            nx = 1; ny = dy; nz = -dz;</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>          <span class="keywordflow">case</span> 5:</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>            fx = 1; fy = -dy; fz = 0;</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>            nx = 1; ny = -dy; nz = dz;</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>          <span class="keywordflow">case</span> 6:</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>            fx = -1; fy = 0; fz = -dz;</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>            nx = -1; ny = dy; nz = -dz;</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>          <span class="keywordflow">case</span> 7:</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>            fx = -1; fy = -dy; fz = 0;</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>            nx = -1; ny = -dy; nz = dz;</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>          <span class="comment">// Extras</span></div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>          <span class="keywordflow">case</span> 8:</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>            fx = 1; fy = 0; fz = 0;</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>            nx = 1; ny = dy; nz = 0;</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>          <span class="keywordflow">case</span> 9:</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>            fx = 1; fy = 0; fz = 0;</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>            nx = 1; ny = 0; nz = dz;</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>          <span class="keywordflow">case</span> 10:</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>            fx = -1; fy = 0; fz = 0;</div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>            nx = -1; ny = dy; nz = 0;</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>          <span class="keywordflow">case</span> 11:</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>            fx = -1; fy = 0; fz = 0;</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>            nx = -1; ny = 0; nz = dz;</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>        }</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>      }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(dy == 0){</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>        <span class="keywordflow">switch</span>(dev)</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>        {</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>          <span class="keywordflow">case</span> 0:</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>            fx = 0; fy = 0; fz = -dz;</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>            nx = dx; ny = 0; nz = -dz;</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>          <span class="keywordflow">case</span> 1:</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>            fx = -dx; fy = 0; fz = 0;</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>            nx = -dx; ny = 0; nz = dz;</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>          <span class="keywordflow">case</span> 2:</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>            fx = 0; fy = 1; fz = 0;</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>            nx = dx; ny = 1; nz = dz;</div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>          <span class="keywordflow">case</span> 3:</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>            fx = 0; fy = -1; fz = 0;</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>            nx = dx; ny = -1;nz = dz;</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>          <span class="keywordflow">case</span> 4:</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>            fx = 0; fy = 1; fz = -dz;</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>            nx = dx; ny = 1; nz = -dz;</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>          <span class="keywordflow">case</span> 5:</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>            fx = -dx; fy = 1; fz = 0;</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>            nx = -dx; ny = 1; nz = dz;</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>          <span class="keywordflow">case</span> 6:</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>            fx = 0; fy = -1; fz = -dz;</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>            nx = dx; ny = -1; nz = -dz;</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>          <span class="keywordflow">case</span> 7:</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>            fx = -dx; fy = -1; fz = 0;</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>            nx = -dx; ny = -1; nz = dz;</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>          <span class="comment">// Extras</span></div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>          <span class="keywordflow">case</span> 8:</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>            fx = 0; fy = 1; fz = 0;</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>            nx = dx; ny = 1; nz = 0;</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>          <span class="keywordflow">case</span> 9:</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>            fx = 0; fy = 1; fz = 0;</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>            nx = 0; ny = 1; nz = dz;</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>          <span class="keywordflow">case</span> 10:</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>            fx = 0; fy = -1; fz = 0;</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>            nx = dx; ny = -1; nz = 0;</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>          <span class="keywordflow">case</span> 11:</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>            fx = 0; fy = -1; fz = 0;</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>            nx = 0; ny = -1; nz = dz;</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>        }</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>      }<span class="keywordflow">else</span>{<span class="comment">// dz==0</span></div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>        <span class="keywordflow">switch</span>(dev)</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>        {</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>          <span class="keywordflow">case</span> 0:</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>            fx = 0; fy = -dy; fz = 0;</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>            nx = dx; ny = -dy; nz = 0;</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>          <span class="keywordflow">case</span> 1:</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>            fx = -dx; fy = 0; fz = 0;</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>            nx = -dx; ny = dy; nz = 0;</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>          <span class="keywordflow">case</span> 2:</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>            fx =  0; fy = 0; fz = 1;</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>            nx = dx; ny = dy; nz = 1;</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>          <span class="keywordflow">case</span> 3:</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>            fx =  0; fy = 0; fz = -1;</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>            nx = dx; ny = dy; nz = -1;</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>          <span class="keywordflow">case</span> 4:</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>            fx = 0; fy = -dy; fz = 1;</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>            nx = dx; ny = -dy; nz = 1;</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>          <span class="keywordflow">case</span> 5:</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>            fx = -dx; fy = 0; fz = 1;</div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>            nx = -dx; ny = dy; nz = 1;</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>          <span class="keywordflow">case</span> 6:</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>            fx = 0; fy = -dy; fz = -1;</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>            nx = dx; ny = -dy; nz = -1;</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>          <span class="keywordflow">case</span> 7:</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>            fx = -dx; fy = 0; fz = -1;</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>            nx = -dx; ny = dy; nz = -1;</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>          <span class="comment">// Extras</span></div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>          <span class="keywordflow">case</span> 8:</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>            fx =  0; fy = 0; fz = 1;</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>            nx = dx; ny = 0; nz = 1;</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>          <span class="keywordflow">case</span> 9:</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>            fx = 0; fy = 0; fz = 1;</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>            nx = 0; ny = dy; nz = 1;</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>          <span class="keywordflow">case</span> 10:</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>            fx =  0; fy = 0; fz = -1;</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>            nx = dx; ny = 0; nz = -1;</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>          <span class="keywordflow">case</span> 11:</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>            fx = 0; fy = 0; fz = -1;</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>            nx = 0; ny = dy; nz = -1;</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>        }</div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>      }</div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>    <span class="keywordflow">case</span> 3:</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>      <span class="keywordflow">switch</span>(dev)</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>      {</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>        <span class="keywordflow">case</span> 0: </div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>          fx = -dx; fy = 0; fz = 0;</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>          nx = -dx; ny = dy; nz = dz;</div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>          <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>        <span class="keywordflow">case</span> 1:</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>          fx = 0; fy = -dy; fz = 0;</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>          nx = dx; ny = -dy; nz = dz;</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>          <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>        <span class="keywordflow">case</span> 2:</div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>          fx = 0; fy = 0; fz = -dz;</div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>          nx = dx; ny = dy; nz = -dz;</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>          <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>        <span class="comment">// Need to check up to here for forced!</span></div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>        <span class="keywordflow">case</span> 3:</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>          fx = 0; fy = -dy; fz = -dz;</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>          nx = dx; ny = -dy; nz = -dz;</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>          <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>        <span class="keywordflow">case</span> 4:</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>          fx = -dx; fy = 0; fz = -dz;</div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>          nx = -dx; ny = dy; nz = -dz;</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>          <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>        <span class="keywordflow">case</span> 5:</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>          fx = -dx; fy = -dy; fz = 0;</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>          nx = -dx; ny = -dy; nz = dz;</div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>          <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>        <span class="comment">// Extras</span></div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>        <span class="keywordflow">case</span> 6:</div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>          fx = -dx; fy = 0; fz = 0;</div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>          nx = -dx; ny = 0; nz = dz;</div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>          <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>        <span class="keywordflow">case</span> 7:</div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>          fx = -dx; fy = 0; fz = 0;</div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>          nx = -dx; ny = dy; nz = 0;</div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>          <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>        <span class="keywordflow">case</span> 8:</div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span>          fx = 0; fy = -dy; fz = 0;</div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>          nx = 0; ny = -dy; nz = dz;</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>          <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>        <span class="keywordflow">case</span> 9:</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>          fx = 0; fy = -dy; fz = 0;</div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>          nx = dx; ny = -dy; nz = 0;</div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span>          <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>        <span class="keywordflow">case</span> 10:</div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>          fx = 0; fy = 0; fz = -dz;</div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span>          nx = 0; ny = dy; nz = -dz;</div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span>          <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>        <span class="keywordflow">case</span> 11:</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span>          fx = 0; fy = 0; fz = -dz;</div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>          nx = dx; ny = 0; nz = -dz;</div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>          <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>      }</div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>  }</div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>}</div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_a0be9323bb98003826f4ee3b31d9811a6"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#a0be9323bb98003826f4ee3b31d9811a6">JPS::GraphSearch::xDim_</a></div><div class="ttdeci">int xDim_</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__basis_8hpp_source.html#l00351">rokae_graph_basis.hpp:351</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_a1854bbd5830db76fb29d84f2b55ab881"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#a1854bbd5830db76fb29d84f2b55ab881">JPS::GraphSearch::PlanningState</a></div><div class="ttdeci">PlanningState</div><div class="ttdoc">&lt;enum class&gt; PlanningState, used to indicate the JPS planning state</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__basis_8hpp_source.html#l00191">rokae_graph_basis.hpp:192</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_a1854bbd5830db76fb29d84f2b55ab881ab86957a2a5c3219ee1c3c1973d47d2e2"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#a1854bbd5830db76fb29d84f2b55ab881ab86957a2a5c3219ee1c3c1973d47d2e2">JPS::GraphSearch::PlanningState::PATH_COMPLETE</a></div><div class="ttdeci">@ PATH_COMPLETE</div><div class="ttdoc">Path is complete.</div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_a1854bbd5830db76fb29d84f2b55ab881abb1ca97ec761fc37101737ba0aa2e7c5"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#a1854bbd5830db76fb29d84f2b55ab881abb1ca97ec761fc37101737ba0aa2e7c5">JPS::GraphSearch::PlanningState::ERROR</a></div><div class="ttdeci">@ ERROR</div><div class="ttdoc">Some errors happen during the planning process.</div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_a1854bbd5830db76fb29d84f2b55ab881acde2aa99946eb1498c5cfc1d86735927"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#a1854bbd5830db76fb29d84f2b55ab881acde2aa99946eb1498c5cfc1d86735927">JPS::GraphSearch::PlanningState::PATH_INCOMPLETE</a></div><div class="ttdeci">@ PATH_INCOMPLETE</div><div class="ttdoc">Path is incomplete due to some reasons, such as timeout, surpassing maximum number of iterations,...</div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_a2a5b5cb539d1578bdf72d7c642dcb280"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#a2a5b5cb539d1578bdf72d7c642dcb280">JPS::GraphSearch::DPF_Plan</a></div><div class="ttdeci">double DPF_Plan(octomap::OcTree &amp;tree, std::unordered_set&lt; octomap::OcTreeKey, DPF_HashFunction &gt; &amp;region_set, std::unordered_map&lt; octomap::OcTreeKey, double, DPF_HashFunction &gt; &amp;dist_map, const double potential_weight)</div><div class="ttdoc">This is a function used to do distance potential field planning to drive the original path away from ...</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__search_8cpp_source.html#l00161">rokae_graph_search.cpp:161</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_a331f8772c3dea38f8121016a638bb606"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#a331f8772c3dea38f8121016a638bb606">JPS::GraphSearch::EXPANSION_DIRECTIONS</a></div><div class="ttdeci">const std::vector&lt; std::vector&lt; int &gt; &gt; EXPANSION_DIRECTIONS</div><div class="ttdoc">expansion direction of A-star</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__basis_8hpp_source.html#l00365">rokae_graph_basis.hpp:365</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_a33d592fc21f0872546364703dcac1bef"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#a33d592fc21f0872546364703dcac1bef">JPS::GraphSearch::yDim_</a></div><div class="ttdeci">int yDim_</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__basis_8hpp_source.html#l00351">rokae_graph_basis.hpp:351</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_a3a38c99add5d2838afa62c14e1797f70"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#a3a38c99add5d2838afa62c14e1797f70">JPS::GraphSearch::getSucc</a></div><div class="ttdeci">void getSucc(Node &amp;currSucc, std::vector&lt; Node &gt; &amp;NodeSet, std::vector&lt; double &gt; &amp;Succ_costSet, octomap::OcTree &amp;tree, std::unordered_set&lt; octomap::OcTreeKey, DPF_HashFunction &gt; &amp;region_set, std::unordered_map&lt; octomap::OcTreeKey, double, DPF_HashFunction &gt; &amp;dist_map, const double potential_weight)</div><div class="ttdoc">Get the Succ objects for A-star distance potential field planning.</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__search_8cpp_source.html#l00263">rokae_graph_search.cpp:263</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_a3e0937fe5e617c23eb5de575fc3b8537"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#a3e0937fe5e617c23eb5de575fc3b8537">JPS::GraphSearch::distEuclidean</a></div><div class="ttdeci">double distEuclidean(const octomap::point3d &amp;p1, const octomap::point3d &amp;p2)</div><div class="ttdoc">calculate euclidean distance from p1 to p2</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__search_8cpp_source.html#l00493">rokae_graph_search.cpp:493</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_a4134f8e4f56ea3df18ad2a756c54431b"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#a4134f8e4f56ea3df18ad2a756c54431b">JPS::GraphSearch::verbose_</a></div><div class="ttdeci">bool verbose_</div><div class="ttdoc">print infomation or not</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__basis_8hpp_source.html#l00350">rokae_graph_basis.hpp:350</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_a51aca7bb200b62db42cf2965d6df2067a1834cdf9bf35ea1d737c15eef72e18c7"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#a51aca7bb200b62db42cf2965d6df2067a1834cdf9bf35ea1d737c15eef72e18c7">JPS::GraphSearch::HeuristicFunctionType::Manhattan</a></div><div class="ttdeci">@ Manhattan</div><div class="ttdoc">use manhattan distance cost</div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_a51aca7bb200b62db42cf2965d6df2067a3e43207685247008d9e1ae53ecf8cab3"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#a51aca7bb200b62db42cf2965d6df2067a3e43207685247008d9e1ae53ecf8cab3">JPS::GraphSearch::HeuristicFunctionType::Euclidean</a></div><div class="ttdeci">@ Euclidean</div><div class="ttdoc">use euclidean distance cost</div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_a51aca7bb200b62db42cf2965d6df2067a9ac677ee4eec25d9e59707a661d2c5e1"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#a51aca7bb200b62db42cf2965d6df2067a9ac677ee4eec25d9e59707a661d2c5e1">JPS::GraphSearch::HeuristicFunctionType::Diagonal</a></div><div class="ttdeci">@ Diagonal</div><div class="ttdoc">use diagonal distance cost</div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_a54e5a28ef38f5830976df639cef5427f"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#a54e5a28ef38f5830976df639cef5427f">JPS::GraphSearch::timeout_threshold_</a></div><div class="ttdeci">double timeout_threshold_</div><div class="ttdoc">timeout threshold for planning</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__basis_8hpp_source.html#l00353">rokae_graph_basis.hpp:353</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_a558de178785d62e710bcf9104c22a7f1"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#a558de178785d62e710bcf9104c22a7f1">JPS::GraphSearch::backtrackPathKeys</a></div><div class="ttdeci">std::vector&lt; octomap::OcTreeKey &gt; backtrackPathKeys(const Node &amp;from, const Node &amp;to)</div><div class="ttdoc">get the path keys from from to to</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__search_8cpp_source.html#l00522">rokae_graph_search.cpp:522</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_a56013821fb9518129cda4b744eef6b44"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#a56013821fb9518129cda4b744eef6b44">JPS::GraphSearch::parse_param</a></div><div class="ttdeci">bool parse_param(const std::string &amp;param_name, T &amp;param_dest, const ros::NodeHandle &amp;nh)</div><div class="ttdoc">This is a function used to load paraments from the .yaml file.</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__search_8cpp_source.html#l00585">rokae_graph_search.cpp:585</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_a58182b87cf68eba55de25fc80c1f538a"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#a58182b87cf68eba55de25fc80c1f538a">JPS::GraphSearch::eps_</a></div><div class="ttdeci">double eps_</div><div class="ttdoc">penalty</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__basis_8hpp_source.html#l00349">rokae_graph_basis.hpp:349</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_a5df0b62a153c80282391a10cf0564272"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#a5df0b62a153c80282391a10cf0564272">JPS::GraphSearch::parent_map</a></div><div class="ttdeci">std::unordered_map&lt; Node, Node, HashFunction &gt; parent_map</div><div class="ttdoc">first = child, second = parent</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__basis_8hpp_source.html#l00362">rokae_graph_basis.hpp:362</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_a659858c708ab2384cbd419f930cd3af0"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#a659858c708ab2384cbd419f930cd3af0">JPS::GraphSearch::jump</a></div><div class="ttdeci">bool jump(octomap::OcTreeKey &amp;currKey, int dx, int dy, int dz, octomap::OcTreeKey &amp;newKey, octomap::OcTree &amp;tree)</div><div class="ttdoc">recursively call the jump() function to do 'jump'. If the jump satisfies one of the following conditi...</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__search_8cpp_source.html#l00398">rokae_graph_search.cpp:398</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_a666450ba9af8778e43799bfe84498c61"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#a666450ba9af8778e43799bfe84498c61">JPS::GraphSearch::getPathKeys</a></div><div class="ttdeci">std::vector&lt; octomap::OcTreeKey &gt; getPathKeys() const</div><div class="ttdoc">Get the optimal path.</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__search_8cpp_source.html#l00542">rokae_graph_search.cpp:542</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_a6b37b3e44d8c811e9327cbc43d07230c"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#a6b37b3e44d8c811e9327cbc43d07230c">JPS::GraphSearch::getOpenSet</a></div><div class="ttdeci">std::vector&lt; Node &gt; getOpenSet() const</div><div class="ttdoc">Get the states in open set.</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__search_8cpp_source.html#l00546">rokae_graph_search.cpp:546</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_a7d3d17e51c0094f49eb81d1ed5bf14aa"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#a7d3d17e51c0094f49eb81d1ed5bf14aa">JPS::GraphSearch::keyToCoord_modified</a></div><div class="ttdeci">octomap::point3d keyToCoord_modified(octomap::OcTreeKey &amp;NodeKey, octomap::OcTree &amp;tree)</div><div class="ttdoc">transfer Key value to Coordinate value with central bias</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__search_8cpp_source.html#l00514">rokae_graph_search.cpp:514</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_a87e9a702af8778200d4db9b114c9bb5d"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#a87e9a702af8778200d4db9b114c9bb5d">JPS::GraphSearch::planning_tree_resolution_</a></div><div class="ttdeci">double planning_tree_resolution_</div><div class="ttdoc">map resolution</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__basis_8hpp_source.html#l00352">rokae_graph_basis.hpp:352</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_a90b7e5d5ca13179f65661312784bd4c8"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#a90b7e5d5ca13179f65661312784bd4c8">JPS::GraphSearch::expand</a></div><div class="ttdeci">octomap::OcTreeKey expand(const octomap::OcTreeKey &amp;key, int dx, int dy, int dz)</div><div class="ttdoc">update current key to next point key</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__search_8cpp_source.html#l00503">rokae_graph_search.cpp:503</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_a932fb8321d5abbab78d420d84b906ee8"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#a932fb8321d5abbab78d420d84b906ee8">JPS::GraphSearch::planning_status_</a></div><div class="ttdeci">PlanningState planning_status_</div><div class="ttdoc">planning status flag</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__basis_8hpp_source.html#l00380">rokae_graph_basis.hpp:380</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_a9920cf97161c69a9d9813cc117dd516a"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#a9920cf97161c69a9d9813cc117dd516a">JPS::GraphSearch::isFree</a></div><div class="ttdeci">bool isFree(octomap::OcTreeNode *currNode, octomap::point3d &amp;point)</div><div class="ttdoc">Check if (x, y, z) is free.</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__search_8cpp_source.html#l00487">rokae_graph_search.cpp:487</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_a9c38b415d34a53a5d2fd4bca36f59a78"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#a9c38b415d34a53a5d2fd4bca36f59a78">JPS::GraphSearch::goalCoord_</a></div><div class="ttdeci">octomap::point3d goalCoord_</div><div class="ttdoc">goal coordination in octomap</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__basis_8hpp_source.html#l00354">rokae_graph_basis.hpp:354</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_aa6cb7f1512a36bd182b2f84668844812"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#aa6cb7f1512a36bd182b2f84668844812">JPS::GraphSearch::SetHeuristic</a></div><div class="ttdeci">void SetHeuristic(const ros::NodeHandle &amp;nh)</div><div class="ttdoc">set Heuristic type for heuristic function</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__search_8cpp_source.html#l00567">rokae_graph_search.cpp:567</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_ab0094372b214fa57c9b2234779ea2bd8"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#ab0094372b214fa57c9b2234779ea2bd8">JPS::GraphSearch::getPlanningStatus</a></div><div class="ttdeci">PlanningState getPlanningStatus() const</div><div class="ttdoc">Get planning status.</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__search_8cpp_source.html#l00564">rokae_graph_search.cpp:564</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_ab58fd8a007c25ac623da4de979e178f3"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#ab58fd8a007c25ac623da4de979e178f3">JPS::GraphSearch::getHeu</a></div><div class="ttdeci">double getHeu(octomap::OcTreeKey &amp;key1, octomap::OcTreeKey &amp;key2, octomap::OcTree &amp;tree)</div><div class="ttdoc">heuristic function, calculate heuristic cost from key1 to key2</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__search_8cpp_source.html#l00373">rokae_graph_search.cpp:373</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_ab68c7662dd939cf61b0c02c60286a9c9"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#ab68c7662dd939cf61b0c02c60286a9c9">JPS::GraphSearch::getCloseSet</a></div><div class="ttdeci">std::vector&lt; Node &gt; getCloseSet() const</div><div class="ttdoc">Get the states in closed set.</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__search_8cpp_source.html#l00555">rokae_graph_search.cpp:555</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_abb557676b06da6ad7fdbbbd83b8447b0"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#abb557676b06da6ad7fdbbbd83b8447b0">JPS::GraphSearch::isOccupied</a></div><div class="ttdeci">bool isOccupied(octomap::OcTreeNode *currNode, octomap::point3d &amp;point)</div><div class="ttdoc">Check if (x, y, z) is occupied.</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__search_8cpp_source.html#l00478">rokae_graph_search.cpp:478</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_ac1dd9827e96e3f46d3eb2b616ac20000"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#ac1dd9827e96e3f46d3eb2b616ac20000">JPS::GraphSearch::zDim_</a></div><div class="ttdeci">int zDim_</div><div class="ttdoc">x,y,z demension of the focused part of the map</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__basis_8hpp_source.html#l00351">rokae_graph_basis.hpp:351</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_ad1c0eb86312d957a64b5a04913639a7d"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#ad1c0eb86312d957a64b5a04913639a7d">JPS::GraphSearch::startCoord_</a></div><div class="ttdeci">octomap::point3d startCoord_</div><div class="ttdoc">start coordination in octomap</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__basis_8hpp_source.html#l00355">rokae_graph_basis.hpp:355</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_ad20737c7c971f1864c1d37b82cbe91ba"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#ad20737c7c971f1864c1d37b82cbe91ba">JPS::GraphSearch::closed</a></div><div class="ttdeci">std::unordered_set&lt; Node, HashFunction &gt; closed</div><div class="ttdoc">Initialize the closed list.</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__basis_8hpp_source.html#l00361">rokae_graph_basis.hpp:361</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_ad20b80e57fc31e272e73d3f1b9c1aac8"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#ad20b80e57fc31e272e73d3f1b9c1aac8">JPS::GraphSearch::jn3d_</a></div><div class="ttdeci">std::shared_ptr&lt; JPS3DNeib &gt; jn3d_</div><div class="ttdoc">3D JPS neighbor classification</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__basis_8hpp_source.html#l00356">rokae_graph_basis.hpp:356</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_adcd833accf5030c48d6812df72b1cfc2"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#adcd833accf5030c48d6812df72b1cfc2">JPS::GraphSearch::getJpsSucc</a></div><div class="ttdeci">void getJpsSucc(Node &amp;currSucc, std::vector&lt; Node &gt; &amp;NodeSet, std::vector&lt; double &gt; &amp;Succ_costSet, octomap::OcTree &amp;tree)</div><div class="ttdoc">Get the Jps Succ object for JPS planning.</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__search_8cpp_source.html#l00307">rokae_graph_search.cpp:307</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_ae420d96e4875e1d0149a2f85845bd9d0"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#ae420d96e4875e1d0149a2f85845bd9d0">JPS::GraphSearch::open</a></div><div class="ttdeci">std::unordered_set&lt; Node, HashFunction &gt; open</div><div class="ttdoc">Initialize the open list.</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__basis_8hpp_source.html#l00360">rokae_graph_basis.hpp:360</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_aec40c819291bbe3cdb6e2bcc27b6de0c"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#aec40c819291bbe3cdb6e2bcc27b6de0c">JPS::GraphSearch::path_Keys_</a></div><div class="ttdeci">std::vector&lt; octomap::OcTreeKey &gt; path_Keys_</div><div class="ttdoc">octree key value set of the path</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__basis_8hpp_source.html#l00357">rokae_graph_basis.hpp:357</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_af27db35a820ad86a6438ed49eccf553e"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#af27db35a820ad86a6438ed49eccf553e">JPS::GraphSearch::heuristic_function_type</a></div><div class="ttdeci">HeuristicFunctionType heuristic_function_type</div><div class="ttdoc">heuristic type for A-star and JPS planning</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__basis_8hpp_source.html#l00379">rokae_graph_basis.hpp:379</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_af6b4b1a8315450032a052a572b9ec717"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#af6b4b1a8315450032a052a572b9ec717">JPS::GraphSearch::open_heap</a></div><div class="ttdeci">std::priority_queue&lt; Node, std::vector&lt; Node &gt;, CostComparator &gt; open_heap</div><div class="ttdoc">minimum heap</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__basis_8hpp_source.html#l00359">rokae_graph_basis.hpp:359</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_af8ab5828e76294f3b4483b64acb8d33d"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#af8ab5828e76294f3b4483b64acb8d33d">JPS::GraphSearch::plan</a></div><div class="ttdeci">bool plan(octomap::OcTree &amp;tree, int maxExpand=-1)</div><div class="ttdoc">start 3D planning thread</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__search_8cpp_source.html#l00020">rokae_graph_search.cpp:20</a></div></div>
<div class="ttc" id="aclassJPS_1_1GraphSearch_html_afc0c40b5260a870ce3e747cdb3178748"><div class="ttname"><a href="classJPS_1_1GraphSearch.html#afc0c40b5260a870ce3e747cdb3178748">JPS::GraphSearch::hasForced</a></div><div class="ttdeci">bool hasForced(int dx, int dy, int dz, octomap::OcTreeKey &amp;key, octomap::OcTree &amp;tree)</div><div class="ttdoc">calculate if current node has Forced Neighbors</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__search_8cpp_source.html#l00430">rokae_graph_search.cpp:430</a></div></div>
<div class="ttc" id="anamespaceJPS_html"><div class="ttname"><a href="namespaceJPS.html">JPS</a></div><div class="ttdoc">JPS name space, used to determine the JPS Path Planner functions.</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__basis_8hpp_source.html#l00029">rokae_graph_basis.hpp:30</a></div></div>
<div class="ttc" id="arokae__graph__basis_8hpp_html"><div class="ttname"><a href="rokae__graph__basis_8hpp.html">rokae_graph_basis.hpp</a></div></div>
<div class="ttc" id="arokae__graph__search_8cpp_html_a3d7695a430a739b2fcc0a91487240e19"><div class="ttname"><a href="rokae__graph__search_8cpp.html#a3d7695a430a739b2fcc0a91487240e19">sqrt_3</a></div><div class="ttdeci">#define sqrt_3</div></div>
<div class="ttc" id="arokae__graph__search_8cpp_html_a769d527d3d9f20014f365a10524ff94d"><div class="ttname"><a href="rokae__graph__search_8cpp.html#a769d527d3d9f20014f365a10524ff94d">sqrt_2</a></div><div class="ttdeci">#define sqrt_2</div></div>
<div class="ttc" id="arokae__jps__basis_8hpp_html_a92a364c2b863dde1a024a77eac2a5b3b"><div class="ttname"><a href="rokae__jps__basis_8hpp.html#a92a364c2b863dde1a024a77eac2a5b3b">ANSI_COLOR_RESET</a></div><div class="ttdeci">#define ANSI_COLOR_RESET</div><div class="ttdoc">Reset font color in printf funtion.</div><div class="ttdef"><b>Definition:</b> <a href="rokae__jps__basis_8hpp_source.html#l00036">rokae_jps_basis.hpp:36</a></div></div>
<div class="ttc" id="arokae__jps__basis_8hpp_html_a966c72d8d733c7734c6c784753d894c7"><div class="ttname"><a href="rokae__jps__basis_8hpp.html#a966c72d8d733c7734c6c784753d894c7">ANSI_COLOR_GREEN</a></div><div class="ttdeci">#define ANSI_COLOR_GREEN</div><div class="ttdoc">Set green font in printf funtion.</div><div class="ttdef"><b>Definition:</b> <a href="rokae__jps__basis_8hpp_source.html#l00016">rokae_jps_basis.hpp:16</a></div></div>
<div class="ttc" id="astructJPS_1_1CostComparator_html"><div class="ttname"><a href="structJPS_1_1CostComparator.html">JPS::CostComparator</a></div><div class="ttdoc">minimum heap module</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__basis_8hpp_source.html#l00059">rokae_graph_basis.hpp:60</a></div></div>
<div class="ttc" id="astructJPS_1_1JPS3DNeib_html_a4049fc11d1d51a3c44bd811cbb20171e"><div class="ttname"><a href="structJPS_1_1JPS3DNeib.html#a4049fc11d1d51a3c44bd811cbb20171e">JPS::JPS3DNeib::nsz</a></div><div class="ttdeci">static constexpr int nsz[4][2]</div><div class="ttdoc">nsz[4][2] is a 2 demensions arrary. The first dimension indicates the four movement types and the sec...</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__basis_8hpp_source.html#l00142">rokae_graph_basis.hpp:142</a></div></div>
<div class="ttc" id="astructJPS_1_1JPS3DNeib_html_a6f4000acff085200f4dd410a674d56e2"><div class="ttname"><a href="structJPS_1_1JPS3DNeib.html#a6f4000acff085200f4dd410a674d56e2">JPS::JPS3DNeib::f1</a></div><div class="ttdeci">int f1[27][3][12]</div><div class="ttdoc">f1 is used to store the increment of the obstacles needed to be checked at different directions....</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__basis_8hpp_source.html#l00124">rokae_graph_basis.hpp:124</a></div></div>
<div class="ttc" id="astructJPS_1_1JPS3DNeib_html_a7e8781c34db20b4f4aeaf7a21c22fa51"><div class="ttname"><a href="structJPS_1_1JPS3DNeib.html#a7e8781c34db20b4f4aeaf7a21c22fa51">JPS::JPS3DNeib::Neib</a></div><div class="ttdeci">void Neib(int dx, int dy, int dz, int norm1, int dev, int &amp;tx, int &amp;ty, int &amp;tz)</div><div class="ttdoc">This is a function used to get all the possible natural neighbors of current direction expansion for ...</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__search_8cpp_source.html#l00622">rokae_graph_search.cpp:622</a></div></div>
<div class="ttc" id="astructJPS_1_1JPS3DNeib_html_ab15d2d36de77dc099be5df9dec0357d2"><div class="ttname"><a href="structJPS_1_1JPS3DNeib.html#ab15d2d36de77dc099be5df9dec0357d2">JPS::JPS3DNeib::f2</a></div><div class="ttdeci">int f2[27][3][12]</div><div class="ttdoc">f2 is used to store the increment of the probable 'Force Neighbor' node which is relative to the curr...</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__basis_8hpp_source.html#l00126">rokae_graph_basis.hpp:126</a></div></div>
<div class="ttc" id="astructJPS_1_1JPS3DNeib_html_ab2ebcc208f82cfc525e37232ec547a07"><div class="ttname"><a href="structJPS_1_1JPS3DNeib.html#ab2ebcc208f82cfc525e37232ec547a07">JPS::JPS3DNeib::ns</a></div><div class="ttdeci">int ns[27][3][26]</div><div class="ttdoc">The first parament '27' refers to the next movement has 27 directions; and the second parament '3' re...</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__basis_8hpp_source.html#l00122">rokae_graph_basis.hpp:122</a></div></div>
<div class="ttc" id="astructJPS_1_1JPS3DNeib_html_ace9bf5e5299efb42287a8f0bd7599cb2"><div class="ttname"><a href="structJPS_1_1JPS3DNeib.html#ace9bf5e5299efb42287a8f0bd7599cb2">JPS::JPS3DNeib::JPS3DNeib</a></div><div class="ttdeci">JPS3DNeib()</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__search_8cpp_source.html#l00598">rokae_graph_search.cpp:598</a></div></div>
<div class="ttc" id="astructJPS_1_1JPS3DNeib_html_ad58f7ec2e1de7525c2d7a72f9b518591"><div class="ttname"><a href="structJPS_1_1JPS3DNeib.html#ad58f7ec2e1de7525c2d7a72f9b518591">JPS::JPS3DNeib::FNeib</a></div><div class="ttdeci">void FNeib(int dx, int dy, int dz, int norm1, int dev, int &amp;fx, int &amp;fy, int &amp;fz, int &amp;nx, int &amp;ny, int &amp;nz)</div><div class="ttdoc">This is a function used to get all the possible forced neighbors of current direction expansion for c...</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__search_8cpp_source.html#l00690">rokae_graph_search.cpp:690</a></div></div>
<div class="ttc" id="astructJPS_1_1Node_html"><div class="ttname"><a href="structJPS_1_1Node.html">JPS::Node</a></div><div class="ttdoc">Node is a struct for JPS path planning, which will be used to store some necessary infomation</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__basis_8hpp_source.html#l00036">rokae_graph_basis.hpp:37</a></div></div>
<div class="ttc" id="astructJPS_1_1Node_html_abbd7a819f60d402cdbddc49e15aaba24"><div class="ttname"><a href="structJPS_1_1Node.html#abbd7a819f60d402cdbddc49e15aaba24">JPS::Node::h</a></div><div class="ttdeci">double h</div><div class="ttdoc">distance between current point and goal point h(n), heuristic cost</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__basis_8hpp_source.html#l00044">rokae_graph_basis.hpp:44</a></div></div>
<div class="ttc" id="astructJPS_1_1Node_html_ac744fc325ae809f080375c4b9262edd0"><div class="ttname"><a href="structJPS_1_1Node.html#ac744fc325ae809f080375c4b9262edd0">JPS::Node::dz</a></div><div class="ttdeci">int dz</div><div class="ttdoc">direction of expanding, only for JPS default: [0,0,0]</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__basis_8hpp_source.html#l00040">rokae_graph_basis.hpp:40</a></div></div>
<div class="ttc" id="astructJPS_1_1Node_html_acd103d6fc47532632b3478847395077c"><div class="ttname"><a href="structJPS_1_1Node.html#acd103d6fc47532632b3478847395077c">JPS::Node::g</a></div><div class="ttdeci">double g</div><div class="ttdoc">cumulative distance g(n)</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__basis_8hpp_source.html#l00043">rokae_graph_basis.hpp:43</a></div></div>
<div class="ttc" id="astructJPS_1_1Node_html_ace2c64cb2b93f6a3fda173cecf59fec3"><div class="ttname"><a href="structJPS_1_1Node.html#ace2c64cb2b93f6a3fda173cecf59fec3">JPS::Node::dy</a></div><div class="ttdeci">int dy</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__basis_8hpp_source.html#l00040">rokae_graph_basis.hpp:40</a></div></div>
<div class="ttc" id="astructJPS_1_1Node_html_ad33d7e01762b28a6119dd29549eefef7"><div class="ttname"><a href="structJPS_1_1Node.html#ad33d7e01762b28a6119dd29549eefef7">JPS::Node::f</a></div><div class="ttdeci">double f</div><div class="ttdoc">total cost f(n)</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__basis_8hpp_source.html#l00042">rokae_graph_basis.hpp:42</a></div></div>
<div class="ttc" id="astructJPS_1_1Node_html_adabc4bd081e00c8b180800c1890b8580"><div class="ttname"><a href="structJPS_1_1Node.html#adabc4bd081e00c8b180800c1890b8580">JPS::Node::key</a></div><div class="ttdeci">octomap::OcTreeKey key</div><div class="ttdoc">marker for map point, which can be used to get the point location (x,y,z)</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__basis_8hpp_source.html#l00041">rokae_graph_basis.hpp:41</a></div></div>
<div class="ttc" id="astructJPS_1_1Node_html_aea666661a089d39c4d26308937f83223"><div class="ttname"><a href="structJPS_1_1Node.html#aea666661a089d39c4d26308937f83223">JPS::Node::dx</a></div><div class="ttdeci">int dx</div><div class="ttdef"><b>Definition:</b> <a href="rokae__graph__basis_8hpp_source.html#l00040">rokae_graph_basis.hpp:40</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_dbe07417600aae0ca806fed50fa81a41.html">JPS_Planner</a></li><li class="navelem"><a class="el" href="rokae__graph__search_8cpp.html">rokae_graph_search.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
